(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64295,e=>{"use strict";let r,n,i,a,s,o,l,c,d,h;var u,f,p,g,m,b,y,w,x,v,_,A,C,E,N,k=e.i(43476),I=e.i(71645),S=e.i(46932),j=e.i(88653),T=e.i(75254);let R=(0,T.default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),z=(0,T.default)("utensils-crossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]),M=(0,T.default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),U=(0,T.default)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),O=(0,T.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),D=(0,T.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),F=(0,T.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var P=e.i(55436),B=e.i(37727);let L=(0,T.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),$=(0,T.default)("qr-code",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),H=(0,T.default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]),V=(0,T.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),q=(0,T.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),Q=(0,T.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var W=Object.defineProperty,G=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,X=Object.prototype.propertyIsEnumerable,J=(e,r,n)=>r in e?W(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,Z=(e,r)=>{for(var n in r||(r={}))K.call(r,n)&&J(e,n,r[n]);if(G)for(var n of G(r))X.call(r,n)&&J(e,n,r[n]);return e},Y=(e,r)=>{var n={};for(var i in e)K.call(e,i)&&0>r.indexOf(i)&&(n[i]=e[i]);if(null!=e&&G)for(var i of G(e))0>r.indexOf(i)&&X.call(e,i)&&(n[i]=e[i]);return n};(e=>{let r=class r{constructor(e,n,i,s){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<r.MIN_VERSION||e>r.MAX_VERSION)throw RangeError("Version value out of range");if(s<-1||s>7)throw RangeError("Mask value out of range");this.size=4*e+17;let o=[];for(let e=0;e<this.size;e++)o.push(!1);for(let e=0;e<this.size;e++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();const l=this.addEccAndInterleave(i);if(this.drawCodewords(l),-1==s){let e=1e9;for(let r=0;r<8;r++){this.applyMask(r),this.drawFormatBits(r);const n=this.getPenaltyScore();n<e&&(s=r,e=n),this.applyMask(r)}}a(0<=s&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}static encodeText(n,i){let a=e.QrSegment.makeSegments(n);return r.encodeSegments(a,i)}static encodeBinary(n,i){let a=e.QrSegment.makeBytes(n);return r.encodeSegments([a],i)}static encodeSegments(e,i,s=1,l=40,c=-1,d=!0){let h,u;if(!(r.MIN_VERSION<=s&&s<=l&&l<=r.MAX_VERSION)||c<-1||c>7)throw RangeError("Invalid value");for(h=s;;h++){let n=8*r.getNumDataCodewords(h,i),a=o.getTotalBits(e,h);if(a<=n){u=a;break}if(h>=l)throw RangeError("Data too long")}for(let e of[r.Ecc.MEDIUM,r.Ecc.QUARTILE,r.Ecc.HIGH])d&&u<=8*r.getNumDataCodewords(h,e)&&(i=e);let f=[];for(let r of e)for(let e of(n(r.mode.modeBits,4,f),n(r.numChars,r.mode.numCharCountBits(h),f),r.getData()))f.push(e);a(f.length==u);let p=8*r.getNumDataCodewords(h,i);a(f.length<=p),n(0,Math.min(4,p-f.length),f),n(0,(8-f.length%8)%8,f),a(f.length%8==0);for(let e=236;f.length<p;e^=253)n(e,8,f);let g=[];for(;8*g.length<f.length;)g.push(0);return f.forEach((e,r)=>g[r>>>3]|=e<<7-(7&r)),new r(h,i,g,c)}getModule(e,r){return 0<=e&&e<this.size&&0<=r&&r<this.size&&this.modules[r][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),r=e.length;for(let n=0;n<r;n++)for(let i=0;i<r;i++)(0!=n||0!=i)&&(0!=n||i!=r-1)&&(n!=r-1||0!=i)&&this.drawAlignmentPattern(e[n],e[i]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let r=this.errorCorrectionLevel.formatBits<<3|e,n=r;for(let e=0;e<10;e++)n=n<<1^(n>>>9)*1335;let s=(r<<10|n)^21522;a(s>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,i(s,e));this.setFunctionModule(8,7,i(s,6)),this.setFunctionModule(8,8,i(s,7)),this.setFunctionModule(7,8,i(s,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,i(s,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,i(s,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,i(s,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let r=0;r<12;r++)e=e<<1^(e>>>11)*7973;let r=this.version<<12|e;a(r>>>18==0);for(let e=0;e<18;e++){let n=i(r,e),a=this.size-11+e%3,s=Math.floor(e/3);this.setFunctionModule(a,s,n),this.setFunctionModule(s,a,n)}}drawFinderPattern(e,r){for(let n=-4;n<=4;n++)for(let i=-4;i<=4;i++){let a=Math.max(Math.abs(i),Math.abs(n)),s=e+i,o=r+n;0<=s&&s<this.size&&0<=o&&o<this.size&&this.setFunctionModule(s,o,2!=a&&4!=a)}}drawAlignmentPattern(e,r){for(let n=-2;n<=2;n++)for(let i=-2;i<=2;i++)this.setFunctionModule(e+i,r+n,1!=Math.max(Math.abs(i),Math.abs(n)))}setFunctionModule(e,r,n){this.modules[r][e]=n,this.isFunction[r][e]=!0}addEccAndInterleave(e){let n=this.version,i=this.errorCorrectionLevel;if(e.length!=r.getNumDataCodewords(n,i))throw RangeError("Invalid argument");let s=r.NUM_ERROR_CORRECTION_BLOCKS[i.ordinal][n],o=r.ECC_CODEWORDS_PER_BLOCK[i.ordinal][n],l=Math.floor(r.getNumRawDataModules(n)/8),c=s-l%s,d=Math.floor(l/s),h=[],u=r.reedSolomonComputeDivisor(o);for(let n=0,i=0;n<s;n++){let a=e.slice(i,i+d-o+(n<c?0:1));i+=a.length;let s=r.reedSolomonComputeRemainder(a,u);n<c&&a.push(0),h.push(a.concat(s))}let f=[];for(let e=0;e<h[0].length;e++)h.forEach((r,n)=>{(e!=d-o||n>=c)&&f.push(r[e])});return a(f.length==l),f}drawCodewords(e){if(e.length!=Math.floor(r.getNumRawDataModules(this.version)/8))throw RangeError("Invalid argument");let n=0;for(let r=this.size-1;r>=1;r-=2){6==r&&(r=5);for(let a=0;a<this.size;a++)for(let s=0;s<2;s++){let o=r-s,l=(r+1&2)==0?this.size-1-a:a;!this.isFunction[l][o]&&n<8*e.length&&(this.modules[l][o]=i(e[n>>>3],7-(7&n)),n++)}}a(n==8*e.length)}applyMask(e){if(e<0||e>7)throw RangeError("Mask value out of range");for(let r=0;r<this.size;r++)for(let n=0;n<this.size;n++){let i;switch(e){case 0:i=(n+r)%2==0;break;case 1:i=r%2==0;break;case 2:i=n%3==0;break;case 3:i=(n+r)%3==0;break;case 4:i=(Math.floor(n/3)+Math.floor(r/2))%2==0;break;case 5:i=n*r%2+n*r%3==0;break;case 6:i=(n*r%2+n*r%3)%2==0;break;case 7:i=((n+r)%2+n*r%3)%2==0;break;default:throw Error("Unreachable")}!this.isFunction[r][n]&&i&&(this.modules[r][n]=!this.modules[r][n])}}getPenaltyScore(){let e=0;for(let n=0;n<this.size;n++){let i=!1,a=0,s=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[n][o]==i?5==++a?e+=r.PENALTY_N1:a>5&&e++:(this.finderPenaltyAddHistory(a,s),i||(e+=this.finderPenaltyCountPatterns(s)*r.PENALTY_N3),i=this.modules[n][o],a=1);e+=this.finderPenaltyTerminateAndCount(i,a,s)*r.PENALTY_N3}for(let n=0;n<this.size;n++){let i=!1,a=0,s=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][n]==i?5==++a?e+=r.PENALTY_N1:a>5&&e++:(this.finderPenaltyAddHistory(a,s),i||(e+=this.finderPenaltyCountPatterns(s)*r.PENALTY_N3),i=this.modules[o][n],a=1);e+=this.finderPenaltyTerminateAndCount(i,a,s)*r.PENALTY_N3}for(let n=0;n<this.size-1;n++)for(let i=0;i<this.size-1;i++){let a=this.modules[n][i];a==this.modules[n][i+1]&&a==this.modules[n+1][i]&&a==this.modules[n+1][i+1]&&(e+=r.PENALTY_N2)}let n=0;for(let e of this.modules)n=e.reduce((e,r)=>e+ +!!r,n);let i=this.size*this.size,s=Math.ceil(Math.abs(20*n-10*i)/i)-1;return a(0<=s&&s<=9),a(0<=(e+=s*r.PENALTY_N4)&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{let e=Math.floor(this.version/7)+2,r=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2)),n=[6];for(let i=this.size-7;n.length<e;i-=r)n.splice(1,0,i);return n}}static getNumRawDataModules(e){if(e<r.MIN_VERSION||e>r.MAX_VERSION)throw RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){let r=Math.floor(e/7)+2;n-=(25*r-10)*r-55,e>=7&&(n-=36)}return a(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(r.getNumRawDataModules(e)/8)-r.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*r.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw RangeError("Degree out of range");let n=[];for(let r=0;r<e-1;r++)n.push(0);n.push(1);let i=1;for(let a=0;a<e;a++){for(let e=0;e<n.length;e++)n[e]=r.reedSolomonMultiply(n[e],i),e+1<n.length&&(n[e]^=n[e+1]);i=r.reedSolomonMultiply(i,2)}return n}static reedSolomonComputeRemainder(e,n){let i=n.map(e=>0);for(let a of e){let e=a^i.shift();i.push(0),n.forEach((n,a)=>i[a]^=r.reedSolomonMultiply(n,e))}return i}static reedSolomonMultiply(e,r){if(e>>>8!=0||r>>>8!=0)throw RangeError("Byte out of range");let n=0;for(let i=7;i>=0;i--)n=n<<1^(n>>>7)*285^(r>>>i&1)*e;return a(n>>>8==0),n}finderPenaltyCountPatterns(e){let r=e[1];a(r<=3*this.size);let n=r>0&&e[2]==r&&e[3]==3*r&&e[4]==r&&e[5]==r;return(n&&e[0]>=4*r&&e[6]>=r?1:0)+(n&&e[6]>=4*r&&e[0]>=r?1:0)}finderPenaltyTerminateAndCount(e,r,n){return e&&(this.finderPenaltyAddHistory(r,n),r=0),r+=this.size,this.finderPenaltyAddHistory(r,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,r){0==r[0]&&(e+=this.size),r.pop(),r.unshift(e)}};function n(e,r,n){if(r<0||r>31||e>>>r!=0)throw RangeError("Value out of range");for(let i=r-1;i>=0;i--)n.push(e>>>i&1)}function i(e,r){return(e>>>r&1)!=0}function a(e){if(!e)throw Error("Assertion error")}r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;let s=class e{constructor(e,r,n){if(this.mode=e,this.numChars=r,this.bitData=n,r<0)throw RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(r){let i=[];for(let e of r)n(e,8,i);return new e(e.Mode.BYTE,r.length,i)}static makeNumeric(r){if(!e.isNumeric(r))throw RangeError("String contains non-numeric characters");let i=[];for(let e=0;e<r.length;){let a=Math.min(r.length-e,3);n(parseInt(r.substring(e,e+a),10),3*a+1,i),e+=a}return new e(e.Mode.NUMERIC,r.length,i)}static makeAlphanumeric(r){let i;if(!e.isAlphanumeric(r))throw RangeError("String contains unencodable characters in alphanumeric mode");let a=[];for(i=0;i+2<=r.length;i+=2){let s=45*e.ALPHANUMERIC_CHARSET.indexOf(r.charAt(i));n(s+=e.ALPHANUMERIC_CHARSET.indexOf(r.charAt(i+1)),11,a)}return i<r.length&&n(e.ALPHANUMERIC_CHARSET.indexOf(r.charAt(i)),6,a),new e(e.Mode.ALPHANUMERIC,r.length,a)}static makeSegments(r){return""==r?[]:e.isNumeric(r)?[e.makeNumeric(r)]:e.isAlphanumeric(r)?[e.makeAlphanumeric(r)]:[e.makeBytes(e.toUtf8ByteArray(r))]}static makeEci(r){let i=[];if(r<0)throw RangeError("ECI assignment value out of range");if(r<128)n(r,8,i);else if(r<16384)n(2,2,i),n(r,14,i);else if(r<1e6)n(6,3,i),n(r,21,i);else throw RangeError("ECI assignment value out of range");return new e(e.Mode.ECI,0,i)}static isNumeric(r){return e.NUMERIC_REGEX.test(r)}static isAlphanumeric(r){return e.ALPHANUMERIC_REGEX.test(r)}getData(){return this.bitData.slice()}static getTotalBits(e,r){let n=0;for(let i of e){let e=i.mode.numCharCountBits(r);if(i.numChars>=1<<e)return 1/0;n+=4+e+i.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let r=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?r.push(e.charCodeAt(n)):(r.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return r}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;e.QrSegment=s})(A||(A={})),f=(u=A||(A={})).QrCode||(u.QrCode={}),(c=class{constructor(e,r){this.ordinal=e,this.formatBits=r}}).LOW=new c(0,1),c.MEDIUM=new c(1,0),c.QUARTILE=new c(2,3),c.HIGH=new c(3,2),f.Ecc=c,g=(p=A||(A={})).QrSegment||(p.QrSegment={}),(d=class{constructor(e,r){this.modeBits=e,this.numBitsCharCount=r}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}}).NUMERIC=new d(1,[10,12,14]),d.ALPHANUMERIC=new d(2,[9,11,13]),d.BYTE=new d(4,[8,16,16]),d.KANJI=new d(8,[8,10,12]),d.ECI=new d(7,[0,0,0]),g.Mode=d;var ee=A,et={L:ee.QrCode.Ecc.LOW,M:ee.QrCode.Ecc.MEDIUM,Q:ee.QrCode.Ecc.QUARTILE,H:ee.QrCode.Ecc.HIGH},er="#FFFFFF",en="#000000";function ei(e,r=0){let n=[];return e.forEach(function(e,i){let a=null;e.forEach(function(s,o){if(!s&&null!==a){n.push(`M${a+r} ${i+r}h${o-a}v1H${a+r}z`),a=null;return}if(o===e.length-1){if(!s)return;null===a?n.push(`M${o+r},${i+r} h1v1H${o+r}z`):n.push(`M${a+r},${i+r} h${o+1-a}v1H${a+r}z`);return}s&&null===a&&(a=o)})}),n.join("")}function ea(e,r){return e.slice().map((e,n)=>n<r.y||n>=r.y+r.h?e:e.map((e,n)=>(n<r.x||n>=r.x+r.w)&&e))}function es({value:e,level:r,minVersion:n,includeMargin:i,marginSize:a,imageSettings:s,size:o,boostLevel:l}){let c=I.default.useMemo(()=>{let i=(Array.isArray(e)?e:[e]).reduce((e,r)=>(e.push(...ee.QrSegment.makeSegments(r)),e),[]);return ee.QrCode.encodeSegments(i,et[r],n,void 0,void 0,l)},[e,r,n,l]),{cells:d,margin:h,numCells:u,calculatedImageSettings:f}=I.default.useMemo(()=>{let e=c.getModules(),r=null!=a?Math.max(Math.floor(a),0):4*!!i,n=e.length+2*r,l=function(e,r,n,i){if(null==i)return null;let a=e.length+2*n,s=Math.floor(.1*r),o=a/r,l=(i.width||s)*o,c=(i.height||s)*o,d=null==i.x?e.length/2-l/2:i.x*o,h=null==i.y?e.length/2-c/2:i.y*o,u=null==i.opacity?1:i.opacity,f=null;if(i.excavate){let e=Math.floor(d),r=Math.floor(h),n=Math.ceil(l+d-e),i=Math.ceil(c+h-r);f={x:e,y:r,w:n,h:i}}return{x:d,y:h,h:c,w:l,excavation:f,opacity:u,crossOrigin:i.crossOrigin}}(e,o,r,s);return{cells:e,margin:r,numCells:n,calculatedImageSettings:l}},[c,o,s,i,a]);return{qrcode:c,margin:h,cells:d,numCells:u,calculatedImageSettings:f}}var eo=function(){try{new Path2D().addPath(new Path2D)}catch(e){return!1}return!0}(),el=I.default.forwardRef(function(e,r){let{value:n,size:i=128,level:a="L",bgColor:s=er,fgColor:o=en,includeMargin:l=!1,minVersion:c=1,boostLevel:d,marginSize:h,imageSettings:u}=e,f=Y(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:p}=f,g=Y(f,["style"]),m=null==u?void 0:u.src,b=I.default.useRef(null),y=I.default.useRef(null),w=I.default.useCallback(e=>{b.current=e,"function"==typeof r?r(e):r&&(r.current=e)},[r]),[x,v]=I.default.useState(!1),{margin:_,cells:A,numCells:C,calculatedImageSettings:E}=es({value:n,level:a,minVersion:c,boostLevel:d,includeMargin:l,marginSize:h,imageSettings:u,size:i});I.default.useEffect(()=>{if(null!=b.current){let e=b.current,r=e.getContext("2d");if(!r)return;let n=A,a=y.current,l=null!=E&&null!==a&&a.complete&&0!==a.naturalHeight&&0!==a.naturalWidth;l&&null!=E.excavation&&(n=ea(A,E.excavation));let c=window.devicePixelRatio||1;e.height=e.width=i*c;let d=i/C*c;r.scale(d,d),r.fillStyle=s,r.fillRect(0,0,C,C),r.fillStyle=o,eo?r.fill(new Path2D(ei(n,_))):A.forEach(function(e,n){e.forEach(function(e,i){e&&r.fillRect(i+_,n+_,1,1)})}),E&&(r.globalAlpha=E.opacity),l&&r.drawImage(a,E.x+_,E.y+_,E.w,E.h)}}),I.default.useEffect(()=>{v(!1)},[m]);let N=Z({height:i,width:i},p),k=null;return null!=m&&(k=I.default.createElement("img",{src:m,key:m,style:{display:"none"},onLoad:()=>{v(!0)},ref:y,crossOrigin:null==E?void 0:E.crossOrigin})),I.default.createElement(I.default.Fragment,null,I.default.createElement("canvas",Z({style:N,height:i,width:i,ref:w,role:"img"},g)),k)});el.displayName="QRCodeCanvas",I.default.forwardRef(function(e,r){let{value:n,size:i=128,level:a="L",bgColor:s=er,fgColor:o=en,includeMargin:l=!1,minVersion:c=1,boostLevel:d,title:h,marginSize:u,imageSettings:f}=e,p=Y(e,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:m,numCells:b,calculatedImageSettings:y}=es({value:n,level:a,minVersion:c,boostLevel:d,includeMargin:l,marginSize:u,imageSettings:f,size:i}),w=m,x=null;null!=f&&null!=y&&(null!=y.excavation&&(w=ea(m,y.excavation)),x=I.default.createElement("image",{href:f.src,height:y.h,width:y.w,x:y.x+g,y:y.y+g,preserveAspectRatio:"none",opacity:y.opacity,crossOrigin:y.crossOrigin}));let v=ei(w,g);return I.default.createElement("svg",Z({height:i,width:i,viewBox:`0 0 ${b} ${b}`,ref:r,role:"img"},p),!!h&&I.default.createElement("title",null,h),I.default.createElement("path",{fill:s,d:`M0,0 h${b}v${b}H0z`,shapeRendering:"crispEdges"}),I.default.createElement("path",{fill:o,d:v,shapeRendering:"crispEdges"}),x)}).displayName="QRCodeSVG";var ec=e.i(83494),ed=e.i(18566),eh=e.i(47167);let eu=function(e){let r=[],n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?r[n++]=a:(a<2048?r[n++]=a>>6|192:((64512&a)==55296&&i+1<e.length&&(64512&e.charCodeAt(i+1))==56320?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128):r[n++]=a>>12|224,r[n++]=a>>6&63|128),r[n++]=63&a|128)}return r},ef=function(e){let r=[],n=0,i=0;for(;n<e.length;){let a=e[n++];if(a<128)r[i++]=String.fromCharCode(a);else if(a>191&&a<224){let s=e[n++];r[i++]=String.fromCharCode((31&a)<<6|63&s)}else if(a>239&&a<365){let s=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;r[i++]=String.fromCharCode(55296+(s>>10)),r[i++]=String.fromCharCode(56320+(1023&s))}else{let s=e[n++],o=e[n++];r[i++]=String.fromCharCode((15&a)<<12|(63&s)<<6|63&o)}}return r.join("")},ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,r){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=r?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){let a=e[r],s=r+1<e.length,o=s?e[r+1]:0,l=r+2<e.length,c=l?e[r+2]:0,d=a>>2,h=(3&a)<<4|o>>4,u=(15&o)<<2|c>>6,f=63&c;!l&&(f=64,s||(u=64)),i.push(n[d],n[h],n[u],n[f])}return i.join("")},encodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?btoa(e):this.encodeByteArray(eu(e),r)},decodeString(e,r){return this.HAS_NATIVE_SUPPORT&&!r?atob(e):ef(this.decodeStringToByteArray(e,r))},decodeStringToByteArray(e,r){this.init_();let n=r?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){let a=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0,o=++r<e.length?n[e.charAt(r)]:64,l=++r<e.length?n[e.charAt(r)]:64;if(++r,null==a||null==s||null==o||null==l)throw new eg;let c=a<<2|s>>4;if(i.push(c),64!==o){let e=s<<4&240|o>>2;if(i.push(e),64!==l){let e=o<<6&192|l;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eg extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}let em=function(e){let r=eu(e);return ep.encodeByteArray(r,!0)},eb=function(e){return em(e).replace(/\./g,"")},ey=function(e){try{return ep.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ew=()=>{try{return("u">typeof self?self:"u">typeof window?window:e.g).__FIREBASE_DEFAULTS__||(()=>{if(void 0===eh.default||void 0===eh.default.env)return;let e=eh.default.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)})()||(()=>{let e;if("u"<typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let r=e&&ey(e[1]);return r&&JSON.parse(r)})()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ex=()=>ew()?.config;class ev{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(r):e(r,n))}}}function e_(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function eA(e){return(await fetch(e,{credentials:"include"})).ok}let eC={},eE=!1;function eN(){return"u">typeof WorkerGlobalScope&&"u">typeof self&&self instanceof WorkerGlobalScope}function ek(){try{return"object"==typeof indexedDB}catch(e){return!1}}function eI(){return new Promise((e,r)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{r(a.error?.message||"")}}catch(e){r(e)}})}class eS extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,eS.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ej.prototype.create)}}class ej{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){var n,i;let a=r[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?(n=o,i=a,n.replace(eT,(e,r)=>{let n=i[r];return null!=n?String(n):`<${r}?>`})):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new eS(s,c,a)}}let eT=/\{\$([^}]+)}/g;function eR(e,r){if(e===r)return!0;let n=Object.keys(e),i=Object.keys(r);for(let a of n){if(!i.includes(a))return!1;let n=e[a],s=r[a];if(ez(n)&&ez(s)){if(!eR(n,s))return!1}else if(n!==s)return!1}for(let e of i)if(!n.includes(e))return!1;return!0}function ez(e){return null!==e&&"object"==typeof e}function eM(e,r=1e3,n=2){let i=r*Math.pow(n,e),a=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+a)}function eU(e){return e&&e._delegate?e._delegate:e}class eO{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}let eD="[DEFAULT]";class eF{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){let e=new ev;if(this.instancesDeferred.set(r,e),this.isInitialized(r)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:r});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(r).promise}getImmediate(e){let r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}if(n)return null;throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:eD})}catch(e){}for(let[e,r]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});r.resolve(e)}catch(e){}}}}clearInstance(e=eD){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=eD){return this.instances.has(e)}getOptions(e=eD){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(let[e,r]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&r.resolve(i);return i}onInit(e,r){let n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);let a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){let n=this.onInitCallbacks.get(r);if(n)for(let i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){var n;let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e)===eD?void 0:n,options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=eD){return this.component?this.component.multipleInstances?e:eD:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class eP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let r=this.getProvider(e.name);if(r.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let r=new eF(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}let eB=[];(m=C||(C={}))[m.DEBUG=0]="DEBUG",m[m.VERBOSE=1]="VERBOSE",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.SILENT=5]="SILENT";let eL={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},e$=C.INFO,eH={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},eV=(e,r,...n)=>{if(r<e.logLevel)return;let i=new Date().toISOString(),a=eH[r];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${r})`)};class eq{constructor(e){this.name=e,this._logLevel=e$,this._logHandler=eV,this._userLogHandler=null,eB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in C))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?eL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...e),this._logHandler(this,C.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...e),this._logHandler(this,C.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,C.INFO,...e),this._logHandler(this,C.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,C.WARN,...e),this._logHandler(this,C.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...e),this._logHandler(this,C.ERROR,...e)}}let eQ=new WeakMap,eW=new WeakMap,eG=new WeakMap,eK=new WeakMap,eX=new WeakMap,eJ={get(e,r,n){if(e instanceof IDBTransaction){if("done"===r)return eW.get(e);if("objectStoreNames"===r)return e.objectStoreNames||eG.get(e);if("store"===r)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eZ(e[r])},set:(e,r,n)=>(e[r]=n,!0),has:(e,r)=>e instanceof IDBTransaction&&("done"===r||"store"===r)||r in e};function eZ(e){if(e instanceof IDBRequest){let r;return(r=new Promise((r,n)=>{let i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(eZ(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)})).then(r=>{r instanceof IDBCursor&&eQ.set(r,e)}).catch(()=>{}),eX.set(r,e),r}if(eK.has(e))return eK.get(e);let i=function(e){if("function"==typeof e)return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(n||(n=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...r){return e.apply(eY(this),r),eZ(eQ.get(this))}:function(...r){return eZ(e.apply(eY(this),r))}:function(r,...n){let i=e.call(eY(this),r,...n);return eG.set(i,r.sort?r.sort():[r]),eZ(i)};return e instanceof IDBTransaction&&function(e){if(eW.has(e))return;let r=new Promise((r,n)=>{let i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});eW.set(e,r)}(e),(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(r=>e instanceof r)?new Proxy(e,eJ):e}(e);return i!==e&&(eK.set(e,i),eX.set(i,e)),i}let eY=e=>eX.get(e);function e0(e,r,{blocked:n,upgrade:i,blocking:a,terminated:s}={}){let o=indexedDB.open(e,r),l=eZ(o);return i&&o.addEventListener("upgradeneeded",e=>{i(eZ(o.result),e.oldVersion,e.newVersion,eZ(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),l.then(e=>{s&&e.addEventListener("close",()=>s()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),l}let e1=["get","getKey","getAll","getAllKeys","count"],e2=["put","add","delete","clear"],e3=new Map;function e5(e,r){if(!(e instanceof IDBDatabase&&!(r in e)&&"string"==typeof r))return;if(e3.get(r))return e3.get(r);let n=r.replace(/FromIndex$/,""),i=r!==n,a=e2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||e1.includes(n)))return;let s=async function(e,...r){let s=this.transaction(e,a?"readwrite":"readonly"),o=s.store;return i&&(o=o.index(r.shift())),(await Promise.all([o[n](...r),a&&s.done]))[0]};return e3.set(r,s),s}eJ={...h=eJ,get:(e,r,n)=>e5(e,r)||h.get(e,r,n),has:(e,r)=>!!e5(e,r)||h.has(e,r)};class e4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{let r;if(r=e.getComponent(),r?.type!=="VERSION")return null;{let r=e.getImmediate();return`${r.library}/${r.version}`}}).filter(e=>e).join(" ")}}let e6="@firebase/app",e8="0.14.7",e7=new eq("@firebase/app"),e9="[DEFAULT]",te={[e6]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/ai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},tt=new Map,tr=new Map,tn=new Map;function ti(e,r){try{e.container.addComponent(r)}catch(n){e7.debug(`Component ${r.name} failed to register with FirebaseApp ${e.name}`,n)}}function ta(e,r){e.container.addOrOverwriteComponent(r)}function ts(e){let r=e.name;if(tn.has(r))return e7.debug(`There were multiple attempts to register component ${r}.`),!1;for(let n of(tn.set(r,e),tt.values()))ti(n,e);for(let r of tr.values())ti(r,e);return!0}function to(e,r){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(r)}function tl(e,r,n=e9){to(e,r).clearInstance(n)}function tc(e){return void 0!==e.options}function td(e){return!tc(e)&&("authIdToken"in e||"appCheckToken"in e||"releaseOnDeref"in e||"automaticDataCollectionEnabled"in e)}function th(e){return null!=e&&void 0!==e.settings}function tu(){tn.clear()}let tf=new ej("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class tp{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new eO("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tf.create("app-deleted",{appName:this._name})}}function tg(e,r){let n=ey(e.split(".")[1]);null===n?console.error(`FirebaseServerApp ${r} is invalid: second part could not be parsed.`):void 0===JSON.parse(n).exp?console.error(`FirebaseServerApp ${r} is invalid: expiration claim could not be parsed`):1e3*JSON.parse(n).exp-new Date().getTime()<=0&&console.error(`FirebaseServerApp ${r} is invalid: the token has expired.`)}class tm extends tp{constructor(e,r,n,i){const a=void 0===r.automaticDataCollectionEnabled||r.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:a};void 0!==e.apiKey?super(e,s,i):super(e.options,s,i),this._serverConfig={automaticDataCollectionEnabled:a,...r},this._serverConfig.authIdToken&&tg(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&tg(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,"u">typeof FinalizationRegistry&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,r.releaseOnDeref=void 0,tA(e6,e8,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){t_(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw tf.create("server-app-deleted")}}let tb="12.8.0";function ty(e,r={}){let n=e;"object"!=typeof r&&(r={name:r});let i={name:e9,automaticDataCollectionEnabled:!0,...r},a=i.name;if("string"!=typeof a||!a)throw tf.create("bad-app-name",{appName:String(a)});if(n||(n=ex()),!n)throw tf.create("no-options");let s=tt.get(a);if(s)if(eR(n,s.options)&&eR(i,s.config))return s;else throw tf.create("duplicate-app",{appName:a});let o=new eP(a);for(let e of tn.values())o.addComponent(e);let l=new tp(n,i,o);return tt.set(a,l),l}function tw(e,r={}){let n;if(("u">typeof window||eN())&&!eN())throw tf.create("invalid-server-app-environment");let i=r||{};if(e&&(tc(e)?n=e.options:td(e)?i=e:n=e),void 0===i.automaticDataCollectionEnabled&&(i.automaticDataCollectionEnabled=!0),n||(n=ex()),!n)throw tf.create("no-options");let a={...i,...n};if(void 0!==a.releaseOnDeref&&delete a.releaseOnDeref,void 0!==i.releaseOnDeref&&"u"<typeof FinalizationRegistry)throw tf.create("finalization-registry-not-supported",{});let s=""+[...JSON.stringify(a)].reduce((e,r)=>Math.imul(31,e)+r.charCodeAt(0)|0,0),o=tr.get(s);if(o)return o.incRefCount(i.releaseOnDeref),o;let l=new eP(s);for(let e of tn.values())l.addComponent(e);let c=new tm(n,i,s,l);return tr.set(s,c),c}function tx(e=e9){let r=tt.get(e);if(!r&&e===e9&&ex())return ty();if(!r)throw tf.create("no-app",{appName:e});return r}function tv(){return Array.from(tt.values())}async function t_(e){let r=!1,n=e.name;tt.has(n)?(r=!0,tt.delete(n)):tr.has(n)&&0>=e.decRefCount()&&(tr.delete(n),r=!0),r&&(await Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)}function tA(e,r,n){let i=te[e]??e;n&&(i+=`-${n}`);let a=i.match(/\s|\//),s=r.match(/\s|\//);if(a||s){let e=[`Unable to register library "${i}" with version "${r}":`];a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&e.push("and"),s&&e.push(`version name "${r}" contains illegal characters (whitespace or "/")`),e7.warn(e.join(" "));return}ts(new eO(`${i}-version`,()=>({library:i,version:r}),"VERSION"))}function tC(e,r){if(null!==e&&"function"!=typeof e)throw tf.create("invalid-log-argument");for(let n of eB){let i=null;r&&r.level&&(i=eL[r.level]),null===e?n.userLogHandler=null:n.userLogHandler=(r,n,...a)=>{let s=a.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(e=>e).join(" ");n>=(i??r.logLevel)&&e({level:C[n].toLowerCase(),message:s,args:a,type:r.name})}}}function tE(e){eB.forEach(r=>{r.setLogLevel(e)})}let tN="firebase-heartbeat-store",tk=null;function tI(){return tk||(tk=e0("firebase-heartbeat-database",1,{upgrade:(e,r)=>{if(0===r)try{e.createObjectStore(tN)}catch(e){console.warn(e)}}}).catch(e=>{throw tf.create("idb-open",{originalErrorMessage:e.message})})),tk}async function tS(e){try{let r=(await tI()).transaction(tN),n=await r.objectStore(tN).get(tT(e));return await r.done,n}catch(e){if(e instanceof eS)e7.warn(e.message);else{let r=tf.create("idb-get",{originalErrorMessage:e?.message});e7.warn(r.message)}}}async function tj(e,r){try{let n=(await tI()).transaction(tN,"readwrite"),i=n.objectStore(tN);await i.put(r,tT(e)),await n.done}catch(e){if(e instanceof eS)e7.warn(e.message);else{let r=tf.create("idb-set",{originalErrorMessage:e?.message});e7.warn(r.message)}}}function tT(e){return`${e.name}!${e.options.appId}`}class tR{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new tM(r),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tz();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:e}),this._heartbeatsCache.heartbeats.length>30){let e=function(e){if(0===e.length)return -1;let r=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,r=i);return r}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){e7.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||0===this._heartbeatsCache.heartbeats.length)return"";let e=tz(),{heartbeatsToSend:r,unsentEntries:n}=function(e,r=1024){let n=[],i=e.slice();for(let a of e){let e=n.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),tU(n)>r){e.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),tU(n)>r){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=eb(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return e7.warn(e),""}}}function tz(){return new Date().toISOString().substring(0,10)}class tM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ek()&&eI().then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await tS(this.app);return e?.heartbeats?e:{heartbeats:[]}}}async overwrite(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return tj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){let r=await this.read();return tj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}}}function tU(e){return eb(JSON.stringify({version:2,heartbeats:e})).length}ts(new eO("platform-logger",e=>new e4(e),"PRIVATE")),ts(new eO("heartbeat",e=>new tR(e),"PRIVATE")),tA(e6,e8,""),tA(e6,e8,"esm2020"),tA("fire-js",""),e.s(["SDK_VERSION",()=>tb,"_DEFAULT_ENTRY_NAME",()=>e9,"_addComponent",()=>ti,"_addOrOverwriteComponent",()=>ta,"_apps",()=>tt,"_clearComponents",()=>tu,"_components",()=>tn,"_getProvider",()=>to,"_isFirebaseApp",()=>tc,"_isFirebaseServerApp",()=>th,"_isFirebaseServerAppSettings",()=>td,"_registerComponent",()=>ts,"_removeServiceInstance",()=>tl,"_serverApps",()=>tr,"deleteApp",()=>t_,"getApp",()=>tx,"getApps",()=>tv,"initializeApp",()=>ty,"initializeServerApp",()=>tw,"onLog",()=>tC,"registerVersion",()=>tA,"setLogLevel",()=>tE],92953),tA("firebase","12.8.0","app"),e.i(92953);let tO="firebasestorage.googleapis.com",tD="storageBucket";class tF extends eS{constructor(e,r,n=0){super(tP(e),`Firebase Storage: ${r} (${tP(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tF.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function tP(e){return"storage/"+e}function tB(){return new tF(E.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function tL(){return new tF(E.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t$(){return new tF(E.CANCELED,"User canceled the upload/download.")}function tH(){return new tF(E.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function tV(e){return new tF(E.INVALID_ARGUMENT,e)}function tq(){return new tF(E.APP_DELETED,"The Firebase app was deleted.")}function tQ(e,r){return new tF(E.INVALID_FORMAT,"String does not match format '"+e+"': "+r)}function tW(e){throw new tF(E.INTERNAL_ERROR,"Internal error: "+e)}(b=E||(E={})).UNKNOWN="unknown",b.OBJECT_NOT_FOUND="object-not-found",b.BUCKET_NOT_FOUND="bucket-not-found",b.PROJECT_NOT_FOUND="project-not-found",b.QUOTA_EXCEEDED="quota-exceeded",b.UNAUTHENTICATED="unauthenticated",b.UNAUTHORIZED="unauthorized",b.UNAUTHORIZED_APP="unauthorized-app",b.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",b.INVALID_CHECKSUM="invalid-checksum",b.CANCELED="canceled",b.INVALID_EVENT_NAME="invalid-event-name",b.INVALID_URL="invalid-url",b.INVALID_DEFAULT_BUCKET="invalid-default-bucket",b.NO_DEFAULT_BUCKET="no-default-bucket",b.CANNOT_SLICE_BLOB="cannot-slice-blob",b.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",b.NO_DOWNLOAD_URL="no-download-url",b.INVALID_ARGUMENT="invalid-argument",b.INVALID_ARGUMENT_COUNT="invalid-argument-count",b.APP_DELETED="app-deleted",b.INVALID_ROOT_OPERATION="invalid-root-operation",b.INVALID_FORMAT="invalid-format",b.INTERNAL_ERROR="internal-error",b.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class tG{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=tG.makeFromUrl(e,r)}catch(r){return new tG(e,"")}if(""===n.path)return n;throw new tF(E.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}static makeFromUrl(e,r){let n=null,i="([A-Za-z0-9.\\-_]+)",a=RegExp("^gs://"+i+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}let o=r.replace(/[.]/g,"\\."),l=RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),c=r===tO?"(?:storage.googleapis.com|storage.cloud.google.com)":r,d=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:l,indices:{bucket:1,path:3},postModify:s},{regex:RegExp(`^https?://${c}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let r=0;r<d.length;r++){let i=d[r],a=i.regex.exec(e);if(a){let e=a[i.indices.bucket],r=a[i.indices.path];r||(r=""),n=new tG(e,r),i.postModify(n);break}}if(null==n)throw new tF(E.INVALID_URL,"Invalid URL '"+e+"'.");return n}}class tK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function tX(e){return"string"==typeof e||e instanceof String}function tJ(e){return tZ()&&e instanceof Blob}function tZ(){return"u">typeof Blob}function tY(e,r,n,i){if(i<r)throw tV(`Invalid value for '${e}'. Expected ${r} or greater.`);if(i>n)throw tV(`Invalid value for '${e}'. Expected ${n} or less.`)}function t0(e,r,n){let i=r;return null==n&&(i=`https://${r}`),`${n}://${i}/v0${e}`}function t1(e){let r=encodeURIComponent,n="?";for(let i in e)e.hasOwnProperty(i)&&(n=n+(r(i)+"=")+r(e[i])+"&");return n.slice(0,-1)}function t2(e,r){let n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),a=-1!==r.indexOf(e);return n||i||a}(y=N||(N={}))[y.NO_ERROR=0]="NO_ERROR",y[y.NETWORK_ERROR=1]="NETWORK_ERROR",y[y.ABORT=2]="ABORT";class t3{constructor(e,r,n,i,a,s,o,l,c,d,h,u=!0,f=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=u,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,r)=>{this.resolve_=e,this.reject_=r,this.start_()})}start_(){let e=(e,r)=>{if(r)return void e(!1,new t5(!1,null,!0));let n=this.connectionFactory_();this.pendingConnection_=n;let i=e=>{let r=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(r,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;let r=n.getErrorCode()===N.NO_ERROR,a=n.getStatus();!r||t2(a,this.additionalRetryCodes_)&&this.retry?e(!1,new t5(!1,null,n.getErrorCode()===N.ABORT)):e(!0,new t5(-1!==this.successCodes_.indexOf(a),n))})},r=(e,r)=>{let n=this.resolve_,i=this.reject_,a=r.connection;if(r.wasSuccessCode)try{let e=this.callback_(a,a.getResponse());void 0!==e?n(e):n()}catch(e){i(e)}else if(null!==a){let e=tB();e.serverResponse=a.getErrorText(),i(this.errorCallback_?this.errorCallback_(a,e):e)}else i(r.canceled?this.appDelete_?tq():t$():tL())};this.canceled_?r(!1,new t5(!1,null,!0)):this.backoffId_=function(e,r,n){let i=1,a=null,s=null,o=!1,l=0,c=!1;function d(...e){c||(c=!0,r.apply(null,e))}function h(r){a=setTimeout(()=>{a=null,e(f,2===l)},r)}function u(){s&&clearTimeout(s)}function f(e,...r){let n;if(c)return void u();if(e||2===l||o){u(),d.call(null,e,...r);return}i<64&&(i*=2),1===l?(l=2,n=0):n=(i+Math.random())*1e3,h(n)}let p=!1;function g(e){p||(p=!0,u(),!c&&(null!==a?(e||(l=2),clearTimeout(a),h(0)):e||(l=1)))}return h(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class t5{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function t4(...e){let r="u">typeof BlobBuilder?BlobBuilder:"u">typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==r){let n=new r;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}if(tZ())return new Blob(e);throw new tF(E.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}let t6="base64",t8="base64url",t7="data_url";class t9{constructor(e,r){this.data=e,this.contentType=r||null}}function re(e){let r=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<=127?r.push(i):i<=2047?r.push(192|i>>6,128|63&i):(64512&i)==55296?n<e.length-1&&(64512&e.charCodeAt(n+1))==56320?(i=65536|(1023&i)<<10|1023&e.charCodeAt(++n),r.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):r.push(239,191,189):(64512&i)==56320?r.push(239,191,189):r.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(r)}function rt(e,r){let n;switch(e){case t6:{let n=-1!==r.indexOf("-"),i=-1!==r.indexOf("_");if(n||i)throw tQ(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case t8:{let n=-1!==r.indexOf("+"),i=-1!==r.indexOf("/");if(n||i)throw tQ(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");r=r.replace(/-/g,"+").replace(/_/g,"/")}}try{n=function(e){if("u"<typeof atob)throw new tF(E.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(e)}(r)}catch(r){if(r.message.includes("polyfill"))throw r;throw tQ(e,"Invalid character found")}let i=new Uint8Array(n.length);for(let e=0;e<n.length;e++)i[e]=n.charCodeAt(e);return i}class rr{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(null===r)throw tQ(t7,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;null!=n&&(this.base64=function(e,r){return e.length>=r.length&&e.substring(e.length-r.length)===r}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class rn{constructor(e,r){let n=0,i="";tJ(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(!tJ(this.data_))return new rn(new Uint8Array(this.data_.buffer,e,r-e),!0);{var n,i,a;let s=(n=this.data_,i=e,a=r,n.webkitSlice?n.webkitSlice(i,a):n.mozSlice?n.mozSlice(i,a):n.slice?n.slice(i,a):null);return null===s?null:new rn(s)}}static getBlob(...e){if(tZ()){let r=e.map(e=>e instanceof rn?e.data_:e);return new rn(t4.apply(null,r))}{let r=e.map(e=>tX(e)?function(e,r){return new t9(re(r))}("raw",e).data:e.data_),n=0;r.forEach(e=>{n+=e.byteLength});let i=new Uint8Array(n),a=0;return r.forEach(e=>{for(let r=0;r<e.length;r++)i[a++]=e[r]}),new rn(i,!0)}}uploadData(){return this.data_}}function ri(e){var r;let n;try{n=JSON.parse(e)}catch(e){return null}return"object"!=typeof(r=n)||Array.isArray(r)?null:n}function ra(e){let r=e.lastIndexOf("/",e.length-2);return -1===r?e:e.slice(r+1)}function rs(e,r){return r}class ro{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||rs}}let rl=null;function rc(){if(rl)return rl;let e=[];e.push(new ro("bucket")),e.push(new ro("generation")),e.push(new ro("metageneration")),e.push(new ro("name","fullPath",!0));let r=new ro("name");r.xform=function(e,r){return!tX(r)||r.length<2?r:ra(r)},e.push(r);let n=new ro("size");return n.xform=function(e,r){return void 0!==r?Number(r):r},e.push(n),e.push(new ro("timeCreated")),e.push(new ro("updated")),e.push(new ro("md5Hash",null,!0)),e.push(new ro("cacheControl",null,!0)),e.push(new ro("contentDisposition",null,!0)),e.push(new ro("contentEncoding",null,!0)),e.push(new ro("contentLanguage",null,!0)),e.push(new ro("contentType",null,!0)),e.push(new ro("metadata","customMetadata",!0)),rl=e}function rd(e,r,n){let i=ri(r);return null===i?null:function(e,r,n){let i={};i.type="file";let a=n.length;for(let e=0;e<a;e++){let a=n[e];i[a.local]=a.xform(i,r[a.server])}return Object.defineProperty(i,"ref",{get:function(){let r=new tG(i.bucket,i.fullPath);return e._makeStorageReference(r)}}),i}(e,i,n)}function rh(e,r){let n={},i=r.length;for(let a=0;a<i;a++){let i=r[a];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}class ru{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rf(e){if(!e)throw tB()}function rp(e,r){return function(n,i){let a=rd(e,i,r);return rf(null!==a),a}}function rg(e){return function(r,n){var i,a;let s;return 401===r.getStatus()?s=r.getErrorText().includes("Firebase App Check token is invalid")?new tF(E.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new tF(E.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===r.getStatus()?(i=e.bucket,s=new tF(E.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===r.getStatus()?(a=e.path,s=new tF(E.UNAUTHORIZED,"User does not have permission to access '"+a+"'.")):s=n,s.status=r.getStatus(),s.serverResponse=n.serverResponse,s}}function rm(e){let r=rg(e);return function(n,i){var a;let s=r(n,i);return 404===n.getStatus()&&(a=e.path,s=new tF(E.OBJECT_NOT_FOUND,"Object '"+a+"' does not exist.")),s.serverResponse=i.serverResponse,s}}function rb(e,r,n){let i=Object.assign({},n);return i.fullPath=e.path,i.size=r.size(),i.contentType||(i.contentType=r&&r.type()||"application/octet-stream"),i}class ry{constructor(e,r,n,i){this.current=e,this.total=r,this.finalized=!!n,this.metadata=i||null}}function rw(e,r){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){rf(!1)}return rf(!!n&&-1!==(r||["active"]).indexOf(n)),n}let rx="running",rv="paused",r_="success",rA="canceled",rC="error";function rE(e){switch(e){case"running":case"pausing":case"canceling":return rx;case"paused":return rv;case"success":return r_;case"canceled":return rA;default:return rC}}class rN{constructor(e,r,n){(function(e){return"function"==typeof e})(e)||null!=r||null!=n?(this.next=e,this.error=r??void 0,this.complete=n??void 0):(this.next=e.next,this.error=e.error,this.complete=e.complete)}}function rk(e){return(...r)=>{Promise.resolve().then(()=>e(...r))}}class rI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=N.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=N.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=N.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,a){if(this.sent_)throw tW("cannot .send() more than once");if(e_(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),void 0!==a)for(let e in a)a.hasOwnProperty(e)&&this.xhr_.setRequestHeader(e,a[e].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tW("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tW("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return -1}}getResponse(){if(!this.sent_)throw tW("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tW("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class rS extends rI{initXhr(){this.xhr_.responseType="text"}}function rj(){return new rS}class rT{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,r,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=n,this._mappings=rc(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(E.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let r=this.isExponentialBackoffExpired();if(t2(e.status,[]))if(r)e=tL();else{this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(E.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((e,r)=>{this._resolve=e,this._reject=r,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){let e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"!==this._state||void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,n])=>{switch(this._state){case"running":e(r,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,r)=>{var n,i,a,s,o;let l,c,d,h,u,f,p,g=(n=this._ref.storage,i=this._ref._location,a=this._mappings,s=this._blob,o=this._metadata,l=i.bucketOnlyServerUrl(),d={name:(c=rb(i,s,o)).fullPath},h=t0(l,n.host,n._protocol),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},f=rh(c,a),(p=new ru(h,"POST",function(e){let r;rw(e);try{r=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){rf(!1)}return rf(tX(r)),r},n.maxUploadRetryTime)).urlParams=d,p.headers=u,p.body=f,p.errorHandler=rg(i),p),m=this._ref.storage._makeRequest(g,rj,e,r);this._request=m,m.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((r,n)=>{var i,a,s;let o,l=(i=this._ref.storage,a=this._ref._location,s=this._blob,(o=new ru(e,"POST",function(e){let r=rw(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){rf(!1)}n||rf(!1);let i=Number(n);return rf(!isNaN(i)),new ry(i,s.size(),"final"===r)},i.maxUploadRetryTime)).headers={"X-Goog-Upload-Command":"query"},o.errorHandler=rg(a),o),c=this._ref.storage._makeRequest(l,rj,r,n);this._request=c,c.getPromise().then(e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=262144*this._chunkMultiplier,r=new ry(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,a)=>{let s;try{s=function(e,r,n,i,a,s,o,l){let c=new ry(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=i.size()),i.size()!==c.total)throw new tF(E.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");let d=c.total-c.current,h=d;a>0&&(h=Math.min(h,a));let u=c.current,f=u+h,p={"X-Goog-Upload-Command":0===h?"finalize":d===h?"upload, finalize":"upload","X-Goog-Upload-Offset":`${c.current}`},g=i.slice(u,f);if(null===g)throw tH();let m=new ru(n,"POST",function(e,n){let a,o=rw(e,["active","final"]),l=c.current+h,d=i.size();return a="final"===o?rp(r,s)(e,n):null,new ry(l,d,"final"===o,a)},r.maxUploadRetryTime);return m.headers=p,m.body=g.uploadData(),m.progressCallback=l||null,m.errorHandler=rg(e),m}(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(e){this._error=e,this._transition("error");return}let o=this._ref.storage._makeRequest(s,rj,i,a,!1);this._request=o,o.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){2*(262144*this._chunkMultiplier)<0x2000000&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{var n,i,a;let s,o,l,c=(n=this._ref.storage,i=this._ref._location,a=this._mappings,s=t0(i.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,(l=new ru(s,"GET",rp(n,a),o)).errorHandler=rm(i),l),d=this._ref.storage._makeRequest(c,rj,e,r);this._request=d,d.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{let n=function(e,r,n,i,a){let s=r.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"},l=function(){let e="";for(let r=0;r<2;r++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+l;let c=rb(r,i,a),d="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+rh(c,n)+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",h=rn.getBlob(d,i,"\r\n--"+l+"--");if(null===h)throw tH();let u={name:c.fullPath},f=t0(s,e.host,e._protocol),p=e.maxUploadRetryTime,g=new ru(f,"POST",rp(e,n),p);return g.urlParams=u,g.headers=o,g.body=h.uploadData(),g.errorHandler=rg(r),g}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,rj,e,r);this._request=i,i.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let r="paused"===this._state;this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=t$(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){let e=rE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,n,i){let a=new rN(r||void 0,n||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let r=this._observers.indexOf(e);-1!==r&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(rE(this._state)){case r_:rk(this._resolve.bind(null,this.snapshot))();break;case rA:case rC:rk(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(rE(this._state)){case rx:case rv:e.next&&rk(e.next.bind(e,this.snapshot))();break;case r_:e.complete&&rk(e.complete.bind(e))();break;default:e.error&&rk(e.error.bind(e,this._error))()}}resume(){let e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){let e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){let e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class rR{constructor(e,r){this._service=e,r instanceof tG?this._location=r:this._location=tG.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new rR(e,r)}get root(){let e=new tG(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ra(this._location.path)}get storage(){return this._service}get parent(){let e=function(e){if(0===e.length)return null;let r=e.lastIndexOf("/");return -1===r?"":e.slice(0,r)}(this._location.path);if(null===e)return null;let r=new tG(this._location.bucket,e);return new rR(this._service,r)}_throwIfRoot(e){if(""===this._location.path)throw new tF(E.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function rz(e,r){let n=r?.[tD];return null==n?null:tG.makeFromBucketSpec(n,e)}class rM{constructor(e,r,n,i,a,s=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=tO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=i?this._bucket=tG.makeFromBucketSpec(i,this._host):this._bucket=rz(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=tG.makeFromBucketSpec(this._url,e):this._bucket=rz(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tY("time",0,1/0,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tY("time",0,1/0,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let r=await e.getToken();if(null!==r)return r.accessToken}return null}async _getAppCheckToken(){if(th(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new rR(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new tK(tq());{let s=function(e,r,n,i,a,s,o=!0,l=!1){let c=t1(e.urlParams),d=e.url+c,h=Object.assign({},e.headers);return r&&(h["X-Firebase-GMPID"]=r),null!==n&&n.length>0&&(h.Authorization="Firebase "+n),h["X-Firebase-Storage-Version"]="webjs/"+(s??"AppManager"),null!==i&&(h["X-Firebase-AppCheck"]=i),new t3(d,e.method,h,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,o,l)}(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,r){let[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}let rU="@firebase/storage",rO="0.14.0",rD="storage";function rF(e,r,n){var i;return i=e=eU(e),i._throwIfRoot("uploadBytesResumable"),new rT(i,new rn(r),n)}function rP(e){var r,n,i,a;let s,o,l,c;return(r=e=eU(e))._throwIfRoot("getDownloadURL"),n=r.storage,i=r._location,a=rc(),s=t0(i.fullServerUrl(),n.host,n._protocol),o=n.maxOperationRetryTime,(l=new ru(s,"GET",function(e,r){let i=rd(n,r,a);return rf(null!==i),function(e,r,n,i){let a=ri(r);if(null===a||!tX(a.downloadTokens))return null;let s=a.downloadTokens;if(0===s.length)return null;let o=encodeURIComponent;return s.split(",").map(r=>{let a=e.bucket,s=e.fullPath;return t0("/b/"+o(a)+"/o/"+o(s),n,i)+t1({alt:"media",token:r})})[0]}(i,r,n.host,n._protocol)},o)).errorHandler=rm(i),c=l,r.storage.makeRequestWithTokens(c,rj).then(e=>{if(null===e)throw new tF(E.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function rB(e,r){var n=e=eU(e);if(!(r&&/^[A-Za-z]+:\/\//.test(r)))return function e(r,n){var i;let a,s,o;if(r instanceof rM){if(null==r._bucket)throw new tF(E.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tD+"' property when initializing the app?");let i=new rR(r,r._bucket);return null!=n?e(i,n):i}if(void 0===n)return r;return i=r._location.path,a=n.split("/").filter(e=>e.length>0).join("/"),s=0===i.length?a:i+"/"+a,o=new tG(r._location.bucket,s),new rR(r.storage,o)}(n,r);if(n instanceof rM)return new rR(n,r);throw tV("To use ref(service, url), the first argument must be a Storage instance.")}ts(new eO(rD,function(e,{instanceIdentifier:r}){return new rM(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),r,tb)},"PUBLIC").setMultipleInstances(!0)),tA(rU,rO,""),tA(rU,rO,"esm2020");let rL="@firebase/installations",r$="0.6.19",rH=`w:${r$}`,rV="FIS_v2",rq=new ej("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rQ(e){return e instanceof eS&&e.code.includes("request-failed")}function rW({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function rG(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}async function rK(e,r){let n=(await r.json()).error;return rq.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function rX({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}async function rJ(e){let r=await e();return r.status>=500&&r.status<600?e():r}async function rZ({appConfig:e,heartbeatServiceProvider:r},{fid:n}){let i=rW(e),a=rX(e),s=r.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}let o={method:"POST",headers:a,body:JSON.stringify({fid:n,authVersion:rV,appId:e.appId,sdkVersion:rH})},l=await rJ(()=>fetch(i,o));if(l.ok){let e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:rG(e.authToken)}}throw await rK("Create Installation",l)}function rY(e){return new Promise(r=>{setTimeout(r,e)})}let r0=/^[cdef][\w-]{21}$/;function r1(e){return`${e.appName}!${e.appId}`}let r2=new Map;function r3(e,r){var n,i;let a,s=r1(e);r5(s,r),n=s,i=r,(a=(!r4&&"BroadcastChannel"in self&&((r4=new BroadcastChannel("[Firebase] FID Change")).onmessage=e=>{r5(e.data.key,e.data.fid)}),r4))&&a.postMessage({key:n,fid:i}),0===r2.size&&r4&&(r4.close(),r4=null)}function r5(e,r){let n=r2.get(e);if(n)for(let e of n)e(r)}let r4=null,r6="firebase-installations-store",r8=null;function r7(){return r8||(r8=e0("firebase-installations-database",1,{upgrade:(e,r)=>{0===r&&e.createObjectStore(r6)}})),r8}async function r9(e,r){let n=r1(e),i=(await r7()).transaction(r6,"readwrite"),a=i.objectStore(r6),s=await a.get(n);return await a.put(r,n),await i.done,s&&s.fid===r.fid||r3(e,r.fid),r}async function ne(e){let r=r1(e),n=(await r7()).transaction(r6,"readwrite");await n.objectStore(r6).delete(r),await n.done}async function nt(e,r){let n=r1(e),i=(await r7()).transaction(r6,"readwrite"),a=i.objectStore(r6),s=await a.get(n),o=r(s);return void 0===o?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&r3(e,o.fid),o}async function nr(e){let r,n=await nt(e.appConfig,n=>{let i=function(e,r){if(0===r.registrationStatus){if(!navigator.onLine)return{installationEntry:r,registrationPromise:Promise.reject(rq.create("app-offline"))};let n={fid:r.fid,registrationStatus:1,registrationTime:Date.now()},i=nn(e,n);return{installationEntry:n,registrationPromise:i}}return 1===r.registrationStatus?{installationEntry:r,registrationPromise:ni(e)}:{installationEntry:r}}(e,ns(n||{fid:function(){try{var e;let r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;let n=(e=r,btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return r0.test(n)?n:""}catch{return""}}(),registrationStatus:0}));return r=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await r}:{installationEntry:n,registrationPromise:r}}async function nn(e,r){try{let n=await rZ(e,r);return r9(e.appConfig,n)}catch(n){throw rQ(n)&&409===n.customData.serverCode?await ne(e.appConfig):await r9(e.appConfig,{fid:r.fid,registrationStatus:0}),n}}async function ni(e){let r=await na(e.appConfig);for(;1===r.registrationStatus;)await rY(100),r=await na(e.appConfig);if(0===r.registrationStatus){let{installationEntry:r,registrationPromise:n}=await nr(e);return n||r}return r}function na(e){return nt(e,e=>{if(!e)throw rq.create("installation-not-found");return ns(e)})}function ns(e){var r;return 1===(r=e).registrationStatus&&r.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}async function no({appConfig:e,heartbeatServiceProvider:r},n){let i=function(e,{fid:r}){return`${rW(e)}/${r}/authTokens:generate`}(e,n),a=function(e,{refreshToken:r}){var n;let i=rX(e);return i.append("Authorization",(n=r,`${rV} ${n}`)),i}(e,n),s=r.getImmediate({optional:!0});if(s){let e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}let o={method:"POST",headers:a,body:JSON.stringify({installation:{sdkVersion:rH,appId:e.appId}})},l=await rJ(()=>fetch(i,o));if(l.ok)return rG(await l.json());throw await rK("Generate Auth Token",l)}async function nl(e,r=!1){let n,i=await nt(e.appConfig,i=>{var a,s,o;let l;if(!nu(i))throw rq.create("not-registered");let c=i.authToken;if(!r&&2===(a=c).requestStatus&&(s=a,!((l=Date.now())<s.creationTime)&&!(s.creationTime+s.expiresIn<l+36e5)))return i;if(1===c.requestStatus)return n=nc(e,r),i;{let r;if(!navigator.onLine)throw rq.create("app-offline");let a=(o=i,r={requestStatus:1,requestTime:Date.now()},{...o,authToken:r});return n=nh(e,a),a}});return n?await n:i.authToken}async function nc(e,r){let n=await nd(e.appConfig);for(;1===n.authToken.requestStatus;)await rY(100),n=await nd(e.appConfig);let i=n.authToken;return 0===i.requestStatus?nl(e,r):i}function nd(e){return nt(e,e=>{var r;if(!nu(e))throw rq.create("not-registered");return 1===(r=e.authToken).requestStatus&&r.requestTime+1e4<Date.now()?{...e,authToken:{requestStatus:0}}:e})}async function nh(e,r){try{let n=await no(e,r),i={...r,authToken:n};return await r9(e.appConfig,i),n}catch(n){if(rQ(n)&&(401===n.customData.serverCode||404===n.customData.serverCode))await ne(e.appConfig);else{let n={...r,authToken:{requestStatus:0}};await r9(e.appConfig,n)}throw n}}function nu(e){return void 0!==e&&2===e.registrationStatus}async function nf(e){let{installationEntry:r,registrationPromise:n}=await nr(e);return n?n.catch(console.error):nl(e).catch(console.error),r.fid}async function np(e,r=!1){return await ng(e),(await nl(e,r)).token}async function ng(e){let{registrationPromise:r}=await nr(e);r&&await r}function nm(e){return rq.create("missing-app-config-values",{valueName:e})}let nb="installations";ts(new eO(nb,e=>{let r=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw nm("App Configuration");if(!e.name)throw nm("App Name");for(let r of["projectId","apiKey","appId"])if(!e.options[r])throw nm(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(r),i=to(r,"heartbeat");return{app:r,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},"PUBLIC")),ts(new eO("installations-internal",e=>{let r=to(e.getProvider("app").getImmediate(),nb).getImmediate();return{getId:()=>nf(r),getToken:e=>np(r,e)}},"PRIVATE")),tA(rL,r$),tA(rL,r$,"esm2020");let ny="analytics",nw="https://www.googletagmanager.com/gtag/js",nx=new eq("@firebase/analytics"),nv=new ej("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function n_(e){if(!e.startsWith(nw)){let r=nv.create("invalid-gtag-resource",{gtagURL:e});return nx.warn(r.message),""}return e}function nA(e){return Promise.all(e.map(e=>e.catch(e=>e)))}async function nC(e,r,n,i,a,s){let o=i[a];try{if(o)await r[o];else{let e=(await nA(n)).find(e=>e.measurementId===a);e&&await r[e.appId]}}catch(e){nx.error(e)}e("config",a,s)}async function nE(e,r,n,i,a){try{let s=[];if(a&&a.send_to){let e=a.send_to;Array.isArray(e)||(e=[e]);let i=await nA(n);for(let n of e){let e=i.find(e=>e.measurementId===n),a=e&&r[e.appId];if(a)s.push(a);else{s=[];break}}}0===s.length&&(s=Object.values(r)),await Promise.all(s),e("event",i,a||{})}catch(e){nx.error(e)}}let nN=new class{constructor(e={},r=1e3){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};async function nk(e){let{appId:r,apiKey:n}=e,i={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":n})},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",r),s=await fetch(a,i);if(200!==s.status&&304!==s.status){let e="";try{let r=await s.json();r.error?.message&&(e=r.error.message)}catch(e){}throw nv.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()}async function nI(e,r=nN,n){let{appId:i,apiKey:a,measurementId:s}=e.options;if(!i)throw nv.create("no-app-id");if(!a){if(s)return{measurementId:s,appId:i};throw nv.create("no-api-key")}let o=r.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new nj;return setTimeout(async()=>{l.abort()},void 0!==n?n:6e4),nS({appId:i,apiKey:a,measurementId:s},o,l,r)}async function nS(e,{throttleEndTimeMillis:r,backoffCount:n},i,a=nN){let{appId:s,measurementId:o}=e;try{var l,c;await (l=i,c=r,new Promise((e,r)=>{let n=setTimeout(e,Math.max(c-Date.now(),0));l.addEventListener(()=>{clearTimeout(n),r(nv.create("fetch-throttle",{throttleEndTimeMillis:c}))})}))}catch(e){if(o)return nx.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${e?.message}]`),{appId:s,measurementId:o};throw e}try{let r=await nk(e);return a.deleteThrottleMetadata(s),r}catch(c){if(!function(e){if(!(e instanceof eS)||!e.customData)return!1;let r=Number(e.customData.httpStatus);return 429===r||500===r||503===r||504===r}(c)){if(a.deleteThrottleMetadata(s),o)return nx.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:o};throw c}let r=503===Number(c?.customData?.httpStatus)?eM(n,a.intervalMillis,30):eM(n,a.intervalMillis),l={throttleEndTimeMillis:Date.now()+r,backoffCount:n+1};return a.setThrottleMetadata(s,l),nx.debug(`Calling attemptFetch again in ${r} millis`),nS(e,l,i,a)}}class nj{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function nT(e,r,n,i,a){if(a&&a.global)return void e("event",n,i);{let a=await r;e("event",n,{...i,send_to:a})}}async function nR(e,r,n,i){if(i&&i.global){let r={};for(let e of Object.keys(n))r[`user_properties.${e}`]=n[e];return e("set",r),Promise.resolve()}e("config",await r,{update:!0,user_properties:n})}async function nz(){if(!ek())return nx.warn(nv.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await eI()}catch(e){return nx.warn(nv.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0}async function nM(e,r,n,s,o,l,c){var d,h;let u,f,p,g,m=nI(e);m.then(r=>{n[r.measurementId]=r.appId,e.options.measurementId&&r.measurementId!==e.options.measurementId&&nx.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${r.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>nx.error(e)),r.push(m);let b=nz().then(e=>e?s.getId():void 0),[y,w]=await Promise.all([m,b]);!function(e){for(let r of Object.values(window.document.getElementsByTagName("script")))if(r.src&&r.src.includes(nw)&&r.src.includes(e))return r;return null}(l)&&(d=y.measurementId,h={createScriptURL:n_},window.trustedTypes&&(u=window.trustedTypes.createPolicy("firebase-js-sdk-policy",h)),f=u,p=document.createElement("script"),g=`${nw}?l=${l}&id=${d}`,p.src=f?f?.createScriptURL(g):g,p.async=!0,document.head.appendChild(p)),a&&(o("consent","default",a),a=void 0),o("js",new Date);let x=c?.config??{};return x.origin="firebase",x.update=!0,null!=w&&(x.firebase_id=w),o("config",y.measurementId,x),i&&(o("set",i),i=void 0),y.measurementId}class nU{constructor(e){this.app=e}_delete(){return delete nO[this.app.options.appId],Promise.resolve()}}let nO={},nD=[],nF={},nP="dataLayer",nB=!1,nL="@firebase/analytics",n$="0.10.19";ts(new eO(ny,(e,{options:r})=>(function(e,r,n){let i,a=[];if("object"==typeof(i="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0)&&void 0!==i.id&&a.push("This is a browser extension environment."),!("u"<typeof navigator)&&navigator.cookieEnabled&&1||a.push("Cookies are not available."),a.length>0){let e=a.map((e,r)=>`(${r+1}) ${e}`).join(" "),r=nv.create("invalid-analytics-context",{errorInfo:e});nx.warn(r.message)}let l=e.options.appId;if(!l)throw nv.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)nx.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nv.create("no-api-key");if(null!=nO[l])throw nv.create("already-exists",{id:l});if(!nB){var c,d;let e,r;e=[],Array.isArray(window[nP])?e=window[nP]:window[nP]=e;let{wrappedGtag:n,gtagCore:i}=(c="gtag",r=function(){window[nP].push(arguments)},window[c]&&"function"==typeof window[c]&&(r=window[c]),window[c]=(d=r,async function(e,...r){try{if("event"===e){let[e,n]=r;await nE(d,nO,nD,e,n)}else if("config"===e){let[e,n]=r;await nC(d,nO,nD,nF,e,n)}else if("consent"===e){let[e,n]=r;d("consent",e,n)}else if("get"===e){let[e,n,i]=r;d("get",e,n,i)}else if("set"===e){let[e]=r;d("set",e)}else d(e,...r)}catch(e){nx.error(e)}}),{gtagCore:r,wrappedGtag:window[c]});o=n,s=i,nB=!0}return nO[l]=nM(e,nD,nF,r,s,nP,n),new nU(e)})(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),r),"PUBLIC")),ts(new eO("analytics-internal",function(e){try{let r=e.getProvider(ny).getImmediate();return{logEvent:(e,n,i)=>{var a;return a=r,void(a=eU(a),nT(o,nO[a.app.options.appId],e,n,i).catch(e=>nx.error(e)))},setUserProperties:(e,n)=>{var i;return i=r,void(i=eU(i),nR(o,nO[i.app.options.appId],e,n).catch(e=>nx.error(e)))}}}catch(e){throw nv.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),tA(nL,n$),tA(nL,n$,"esm2020");let nH=ty({apiKey:"AIzaSyDUpEqHZ7obogQP6C60vDTt_Qj89ovEAvQ",authDomain:"leo-ludo-4d550.firebaseapp.com",databaseURL:"https://leo-ludo-4d550-default-rtdb.firebaseio.com",projectId:"leo-ludo-4d550",storageBucket:"leo-ludo-4d550.firebasestorage.app",messagingSenderId:"410861554958",appId:"1:410861554958:web:246612b9a0a2ddf2601b5f",measurementId:"G-LTRED8QH7S"}),nV=function(e=tx(),r){let n=to(e=eU(e),rD).getImmediate({identifier:void 0}),i=(e=>{let r=ew()?.emulatorHosts?.[e];if(!r)return;let n=r.lastIndexOf(":");if(n<=0||n+1===r.length)throw Error(`Invalid host ${r} with no separate hostname and port!`);let i=parseInt(r.substring(n+1),10);return"["===r[0]?[r.substring(1,n-1),i]:[r.substring(0,n),i]})("storage");return i&&function(e,r,n,i={}){!function(e,r,n,i={}){e.host=`${r}:${n}`;let a=e_(r);a&&(eA(`https://${e.host}/b`),function(e,r){if("u"<typeof window||"u"<typeof document||!e_(window.location.host)||eC[e]===r||eC[e]||eE)return;function n(e){return`__firebase__banner__${e}`}eC[e]=r;let i="__firebase__banner",a=function(){let e={prod:[],emulator:[]};for(let r of Object.keys(eC))eC[r]?e.emulator.push(r):e.prod.push(r);return e}().prod.length>0;function s(){let e,r,s=(e=document.getElementById(i),r=!1,e||((e=document.createElement("div")).setAttribute("id",i),r=!0),{created:r,element:e}),o=n("text"),l=document.getElementById(o)||document.createElement("span"),c=n("learnmore"),d=document.getElementById(c)||document.createElement("a"),h=n("preprendIcon"),u=document.getElementById(h)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(s.created){let e,r=s.element;r.style.display="flex",r.style.background="#7faaf0",r.style.position="fixed",r.style.bottom="5px",r.style.left="5px",r.style.padding=".5em",r.style.borderRadius="5px",r.style.alignItems="center",d.setAttribute("id",c),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline";let n=((e=document.createElement("span")).style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{let e;eE=!0,(e=document.getElementById(i))&&e.remove()},e);u.setAttribute("width","24"),u.setAttribute("id",h),u.setAttribute("height","24"),u.setAttribute("viewBox","0 0 24 24"),u.setAttribute("fill","none"),u.style.marginLeft="-6px",r.append(u,l,d,n),document.body.appendChild(r)}a?(l.innerText="Preview backend disconnected.",u.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(u.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,l.innerText="Preview backend running in this workspace."),l.setAttribute("id",o)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";let{mockUserToken:s}=i;s&&(e._overrideAuthToken="string"==typeof s?s:function(e,r){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=r||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[eb(JSON.stringify({alg:"none",type:"JWT"})),eb(JSON.stringify(s)),""].join(".")}(s,e.app.options.projectId))}(e,r,n,i)}(n,...i),n}(nH);function nq(e,r){return new Promise(function(n,i){let a;return nQ(e).then(function(e){try{return a=e,n(new Blob([r.slice(0,2),a,r.slice(2)],{type:"image/jpeg"}))}catch(e){return i(e)}},i)})}!function(e=tx()){let r=to(e=eU(e),ny);r.isInitialized()?r.getImmediate():function(e,r={}){let n=to(e,ny);if(n.isInitialized()){if(n.getImmediate(),eR(r,n.getOptions()))return;throw nv.create("already-initialized")}n.initialize({options:r})}(e)}(nH);let nQ=e=>new Promise((r,n)=>{let i=new FileReader;i.addEventListener("load",({target:{result:e}})=>{let i=new DataView(e),a=0;if(65496!==i.getUint16(a))return n("not a valid JPEG");for(a+=2;;){let s=i.getUint16(a);if(65498===s)break;let o=i.getUint16(a+2);if(65505===s&&0x45786966===i.getUint32(a+4)){let s,l=a+10;switch(i.getUint16(l)){case 18761:s=!0;break;case 19789:s=!1;break;default:return n("TIFF header contains invalid endian")}if(42!==i.getUint16(l+2,s))return n("TIFF header contains invalid version");let c=i.getUint32(l+4,s),d=l+c+2+12*i.getUint16(l+c,s);for(let e=l+c+2;e<d;e+=12)if(274==i.getUint16(e,s)){if(3!==i.getUint16(e+2,s))return n("Orientation data type is invalid");if(1!==i.getUint32(e+4,s))return n("Orientation data count is invalid");i.setUint16(e+8,1,s);break}return r(e.slice(a,a+2+o))}a+=2+o}return r(new Blob)}),i.readAsArrayBuffer(e)});var nW={};({get exports(){return nW},set exports(t){nW=t}}).exports=v={},v.parse=function(e,r){for(var n=v.bin.readUshort,i=v.bin.readUint,a=0,s={},o=new Uint8Array(e),l=o.length-4;0x6054b50!=i(o,l);)l--;var c=n(o,a=l+4+4);n(o,a+=2);var d=i(o,a+=2),h=i(o,a+=4);a+=4,a=h;for(var u=0;u<c;u++){i(o,a),a+=4,a+=4,a+=4,i(o,a+=4),d=i(o,a+=4);var f=i(o,a+=4),p=n(o,a+=4),g=n(o,a+2),m=n(o,a+4);a+=6;var b=i(o,a+=8);a+=4,a+=p+g+m,v._readLocal(o,b,s,d,f,r)}return s},v._readLocal=function(e,r,n,i,a,s){var o=v.bin.readUshort,l=v.bin.readUint;l(e,r),o(e,r+=4),o(e,r+=2);var c=o(e,r+=2);l(e,r+=2),l(e,r+=4),r+=4;var d=o(e,r+=8),h=o(e,r+=2);r+=2;var u=v.bin.readUTF8(e,r,d);if(r+=d,r+=h,s)n[u]={size:a,csize:i};else{var f=new Uint8Array(e.buffer,r);if(0==c)n[u]=new Uint8Array(f.buffer.slice(r,r+i));else{if(8!=c)throw"unknown compression method: "+c;var p=new Uint8Array(a);v.inflateRaw(f,p),n[u]=p}}},v.inflateRaw=function(e,r){return v.F.inflate(e,r)},v.inflate=function(e,r){return e[0],e[1],v.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),r)},v.deflate=function(e,r){null==r&&(r={level:6});var n=0,i=new Uint8Array(50+Math.floor(1.1*e.length));i[n]=120,i[n+1]=156,n+=2,n=v.F.deflateRaw(e,i,n,r.level);var a=v.adler(e,0,e.length);return i[n+0]=a>>>24&255,i[n+1]=a>>>16&255,i[n+2]=a>>>8&255,i[n+3]=a>>>0&255,new Uint8Array(i.buffer,0,n+4)},v.deflateRaw=function(e,r){null==r&&(r={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),i=v.F.deflateRaw(e,n,i,r.level);return new Uint8Array(n.buffer,0,i)},v.encode=function(e,r){null==r&&(r=!1);var n=0,i=v.bin.writeUint,a=v.bin.writeUshort,s={};for(var o in e){var l=!v._noNeed(o)&&!r,c=e[o],d=v.crc.crc(c,0,c.length);s[o]={cpr:l,usize:c.length,crc:d,file:l?v.deflateRaw(c):c}}for(var o in s)n+=s[o].file.length+30+46+2*v.bin.sizeUTF8(o);var h=new Uint8Array(n+=22),u=0,f=[];for(var o in s){var p=s[o];f.push(u),u=v._writeHeader(h,u,o,p,0)}var g=0,m=u;for(var o in s)p=s[o],f.push(u),u=v._writeHeader(h,u,o,p,1,f[g++]);var b=u-m;return i(h,u,0x6054b50),u+=4,a(h,u+=4,g),a(h,u+=2,g),i(h,u+=2,b),i(h,u+=4,m),u+=4,u+=2,h.buffer},v._noNeed=function(e){var r=e.split(".").pop().toLowerCase();return -1!="png,jpg,jpeg,zip".indexOf(r)},v._writeHeader=function(e,r,n,i,a,s){var o=v.bin.writeUint,l=v.bin.writeUshort,c=i.file;return o(e,r,0==a?0x4034b50:0x2014b50),r+=4,1==a&&(r+=2),l(e,r,20),l(e,r+=2,0),l(e,r+=2,8*!!i.cpr),o(e,r+=2,0),o(e,r+=4,i.crc),o(e,r+=4,c.length),o(e,r+=4,i.usize),l(e,r+=4,v.bin.sizeUTF8(n)),l(e,r+=2,0),r+=2,1==a&&(r+=2,r+=2,o(e,r+=6,s),r+=4),r+=v.bin.writeUTF8(e,r,n),0==a&&(e.set(c,r),r+=c.length),r},v.crc={table:function(){for(var e=new Uint32Array(256),r=0;r<256;r++){for(var n=r,i=0;i<8;i++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update:function(e,r,n,i){for(var a=0;a<i;a++)e=v.crc.table[255&(e^r[n+a])]^e>>>8;return e},crc:function(e,r,n){return 0xffffffff^v.crc.update(0xffffffff,e,r,n)}},v.adler=function(e,r,n){for(var i=1,a=0,s=r,o=r+n;s<o;){for(var l=Math.min(s+5552,o);s<l;)a+=i+=e[s++];i%=65521,a%=65521}return a<<16|i},v.bin={readUshort:function(e,r){return e[r]|e[r+1]<<8},writeUshort:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255},readUint:function(e,r){return 0x1000000*e[r+3]+(e[r+2]<<16|e[r+1]<<8|e[r])},writeUint:function(e,r,n){e[r]=255&n,e[r+1]=n>>8&255,e[r+2]=n>>16&255,e[r+3]=n>>24&255},readASCII:function(e,r,n){for(var i="",a=0;a<n;a++)i+=String.fromCharCode(e[r+a]);return i},writeASCII:function(e,r,n){for(var i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,r,n){for(var i,a="",s=0;s<n;s++)a+="%"+v.bin.pad(e[r+s].toString(16));try{i=decodeURIComponent(a)}catch(i){return v.bin.readASCII(e,r,n)}return i},writeUTF8:function(e,r,n){for(var i=n.length,a=0,s=0;s<i;s++){var o=n.charCodeAt(s);if(0==(0xffffff80&o))e[r+a]=o,a++;else if(0==(0xfffff800&o))e[r+a]=192|o>>6,e[r+a+1]=128|63&o,a+=2;else if(0==(0xffff0000&o))e[r+a]=224|o>>12,e[r+a+1]=128|o>>6&63,e[r+a+2]=128|63&o,a+=3;else{if(0!=(0xffe00000&o))throw"e";e[r+a]=240|o>>18,e[r+a+1]=128|o>>12&63,e[r+a+2]=128|o>>6&63,e[r+a+3]=128|63&o,a+=4}}return a},sizeUTF8:function(e){for(var r=e.length,n=0,i=0;i<r;i++){var a=e.charCodeAt(i);if(0==(0xffffff80&a))n++;else if(0==(0xfffff800&a))n+=2;else if(0==(0xffff0000&a))n+=3;else{if(0!=(0xffe00000&a))throw"e";n+=4}}return n}},v.F={},v.F.deflateRaw=function(e,r,n,i){var a=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],s=v.F.U,o=v.F._goodIndex;v.F._hash;var l=v.F._putsE,c=0,d=n<<3,h=0,u=e.length;if(0==i){for(;c<u;)l(r,d,+(c+(E=Math.min(65535,u-c))==u)),d=v.F._copyExact(e,c,E,r,d+8),c+=E;return d>>>3}var f=s.lits,p=s.strt,g=s.prev,m=0,b=0,y=0,w=0,x=0,_=0;for(u>2&&(p[_=v.F._hash(e,0)]=0),c=0;c<u;c++){if(x=_,c+1<u-2){_=v.F._hash(e,c+1);var A=c+1&32767;g[A]=p[_],p[_]=A}if(h<=c){(m>14e3||b>26697)&&u-c>100&&(h<c&&(f[m]=c-h,m+=2,h=c),d=v.F._writeBlock(+(c==u-1||h==u),f,m,w,e,y,c-y,r,d),m=b=w=0,y=c);var C=0;c<u-2&&(C=v.F._bestMatch(e,c,g,x,Math.min(a[2],u-c),a[3]));var E=C>>>16,N=65535&C;if(0!=C){N=65535&C;var k=o(E=C>>>16,s.of0);s.lhst[257+k]++;var I=o(N,s.df0);s.dhst[I]++,w+=s.exb[k]+s.dxb[I],f[m]=E<<23|c-h,f[m+1]=N<<16|k<<8|I,m+=2,h=c+E}else s.lhst[e[c]]++;b++}}for(y==c&&0!=e.length||(h<c&&(f[m]=c-h,m+=2,h=c),d=v.F._writeBlock(1,f,m,w,e,y,c-y,r,d),m=0,b=0,m=b=w=0,y=c);0!=(7&d);)d++;return d>>>3},v.F._bestMatch=function(e,r,n,i,a,s){var o=32767&r,l=n[o],c=o-l+32768&32767;if(l==o||i!=v.F._hash(e,r-c))return 0;for(var d=0,h=0,u=Math.min(32767,r);c<=u&&0!=--s&&l!=o;){if(0==d||e[r+d]==e[r+d-c]){var f=v.F._howLong(e,r,c);if(f>d){if(h=c,(d=f)>=a)break;c+2<f&&(f=c+2);for(var p=0,g=0;g<f-2;g++){var m=r-c+g+32768&32767,b=m-n[m]+32768&32767;b>p&&(p=b,l=m)}}}c+=(o=l)-(l=n[o])+32768&32767}return d<<16|h},v.F._howLong=function(e,r,n){if(e[r]!=e[r-n]||e[r+1]!=e[r+1-n]||e[r+2]!=e[r+2-n])return 0;var i=r,a=Math.min(e.length,r+258);for(r+=3;r<a&&e[r]==e[r-n];)r++;return r-i},v.F._hash=function(e,r){return(e[r]<<8|e[r+1])+(e[r+2]<<4)&65535},v.saved=0,v.F._writeBlock=function(e,r,n,i,a,s,o,l,c){var d,h,u,f,p,g,m,b,y,w,x,_=v.F.U,A=v.F._putsF,C=v.F._putsE;_.lhst[256]++,f=(u=v.F.getTrees())[0],p=u[1],g=u[2],m=u[3],b=u[4],y=u[5],w=u[6],x=u[7];var E=32+(0==(c+3&7)?0:8-(c+3&7))+(o<<3),N=i+v.F.contSize(_.fltree,_.lhst)+v.F.contSize(_.fdtree,_.dhst),k=i+v.F.contSize(_.ltree,_.lhst)+v.F.contSize(_.dtree,_.dhst);k+=14+3*y+v.F.contSize(_.itree,_.ihst)+(2*_.ihst[16]+3*_.ihst[17]+7*_.ihst[18]);for(var I=0;I<286;I++)_.lhst[I]=0;for(I=0;I<30;I++)_.dhst[I]=0;for(I=0;I<19;I++)_.ihst[I]=0;var S=E<N&&E<k?0:N<k?1:2;if(A(l,c,e),A(l,c+1,S),c+=3,0==S){for(;0!=(7&c);)c++;c=v.F._copyExact(a,s,o,l,c)}else{if(1==S&&(d=_.fltree,h=_.fdtree),2==S){v.F.makeCodes(_.ltree,f),v.F.revCodes(_.ltree,f),v.F.makeCodes(_.dtree,p),v.F.revCodes(_.dtree,p),v.F.makeCodes(_.itree,g),v.F.revCodes(_.itree,g),d=_.ltree,h=_.dtree,C(l,c,m-257),C(l,c+=5,b-1),C(l,c+=5,y-4),c+=4;for(var j=0;j<y;j++)C(l,c+3*j,_.itree[1+(_.ordr[j]<<1)]);c+=3*y,c=v.F._codeTiny(w,_.itree,l,c),c=v.F._codeTiny(x,_.itree,l,c)}for(var T=s,R=0;R<n;R+=2){for(var z=r[R],M=z>>>23,U=T+(8388607&z);T<U;)c=v.F._writeLit(a[T++],d,l,c);if(0!=M){var O=r[R+1],D=O>>16,F=O>>8&255,P=255&O;C(l,c=v.F._writeLit(257+F,d,l,c),M-_.of0[F]),c+=_.exb[F],A(l,c=v.F._writeLit(P,h,l,c),D-_.df0[P]),c+=_.dxb[P],T+=M}}c=v.F._writeLit(256,d,l,c)}return c},v.F._copyExact=function(e,r,n,i,a){var s=a>>>3;return i[s]=n,i[s+1]=n>>>8,i[s+2]=255-i[s],i[s+3]=255-i[s+1],s+=4,i.set(new Uint8Array(e.buffer,r,n),s),a+(n+4<<3)},v.F.getTrees=function(){for(var e=v.F.U,r=v.F._hufTree(e.lhst,e.ltree,15),n=v.F._hufTree(e.dhst,e.dtree,15),i=[],a=v.F._lenCodes(e.ltree,i),s=[],o=v.F._lenCodes(e.dtree,s),l=0;l<i.length;l+=2)e.ihst[i[l]]++;for(l=0;l<s.length;l+=2)e.ihst[s[l]]++;for(var c=v.F._hufTree(e.ihst,e.itree,7),d=19;d>4&&0==e.itree[1+(e.ordr[d-1]<<1)];)d--;return[r,n,c,a,o,d,i,s]},v.F.getSecond=function(e){for(var r=[],n=0;n<e.length;n+=2)r.push(e[n+1]);return r},v.F.nonZero=function(e){for(var r="",n=0;n<e.length;n+=2)0!=e[n+1]&&(r+=(n>>1)+",");return r},v.F.contSize=function(e,r){for(var n=0,i=0;i<r.length;i++)n+=r[i]*e[1+(i<<1)];return n},v.F._codeTiny=function(e,r,n,i){for(var a=0;a<e.length;a+=2){var s=e[a],o=e[a+1];i=v.F._writeLit(s,r,n,i);var l=16==s?2:17==s?3:7;s>15&&(v.F._putsE(n,i,o,l),i+=l)}return i},v.F._lenCodes=function(e,r){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var i=0;i<n;i+=2){var a=e[i+1],s=i+3<n?e[i+3]:-1,o=i+5<n?e[i+5]:-1,l=0==i?-1:e[i-1];if(0==a&&s==a&&o==a){for(var c=i+5;c+2<n&&e[c+2]==a;)c+=2;(d=Math.min(c+1-i>>>1,138))<11?r.push(17,d-3):r.push(18,d-11),i+=2*d-2}else if(a==l&&s==a&&o==a){for(c=i+5;c+2<n&&e[c+2]==a;)c+=2;var d=Math.min(c+1-i>>>1,6);r.push(16,d-3),i+=2*d-2}else r.push(a,0)}return n>>>1},v.F._hufTree=function(e,r,n){var i=[],a=e.length,s=r.length,o=0;for(o=0;o<s;o+=2)r[o]=0,r[o+1]=0;for(o=0;o<a;o++)0!=e[o]&&i.push({lit:o,f:e[o]});var l=i.length,c=i.slice(0);if(0==l)return 0;if(1==l){var d=i[0].lit;return c=+(0==d),r[1+(d<<1)]=1,r[1+(c<<1)]=1,1}i.sort(function(e,r){return e.f-r.f});var h=i[0],u=i[1],f=0,p=1,g=2;for(i[0]={lit:-1,f:h.f+u.f,l:h,r:u,d:0};p!=l-1;)h=f!=p&&(g==l||i[f].f<i[g].f)?i[f++]:i[g++],u=f!=p&&(g==l||i[f].f<i[g].f)?i[f++]:i[g++],i[p++]={lit:-1,f:h.f+u.f,l:h,r:u};var m=v.F.setDepth(i[p-1],0);for(m>n&&(v.F.restrictDepth(c,n,m),m=n),o=0;o<l;o++)r[1+(c[o].lit<<1)]=c[o].d;return m},v.F.setDepth=function(e,r){return -1!=e.lit?(e.d=r,r):Math.max(v.F.setDepth(e.l,r+1),v.F.setDepth(e.r,r+1))},v.F.restrictDepth=function(e,r,n){var i=0,a=1<<n-r,s=0;for(e.sort(function(e,r){return r.d==e.d?e.f-r.f:r.d-e.d}),i=0;i<e.length&&e[i].d>r;i++){var o=e[i].d;e[i].d=r,s+=a-(1<<n-o)}for(s>>>=n-r;s>0;)(o=e[i].d)<r?(e[i].d++,s-=1<<r-o-1):i++;for(;i>=0;i--)e[i].d==r&&s<0&&(e[i].d--,s++);0!=s&&console.log("debt left")},v.F._goodIndex=function(e,r){var n=0;return r[16]<=e&&(n|=16),r[8|n]<=e&&(n|=8),r[4|n]<=e&&(n|=4),r[2|n]<=e&&(n|=2),r[1|n]<=e&&(n|=1),n},v.F._writeLit=function(e,r,n,i){return v.F._putsF(n,i,r[e<<1]),i+r[1+(e<<1)]},v.F.inflate=function(e,r){var n=Uint8Array;if(3==e[0]&&0==e[1])return r||new n(0);var i=v.F,a=i._bitsF,s=i._bitsE,o=i._decodeTiny,l=i.makeCodes,c=i.codes2map,d=i._get17,h=i.U,u=null==r;u&&(r=new n(e.length>>>2<<3));for(var f,p,g=0,m=0,b=0,y=0,w=0,x=0,_=0,A=0,C=0;0==g;)if(g=a(e,C,1),m=a(e,C+1,2),C+=3,0!=m){if(u&&(r=v.F._check(r,A+131072)),1==m&&(f=h.flmap,p=h.fdmap,x=511,_=31),2==m){b=s(e,C,5)+257,y=s(e,C+5,5)+1,w=s(e,C+10,4)+4,C+=14;for(var E=0;E<38;E+=2)h.itree[E]=0,h.itree[E+1]=0;var N=1;for(E=0;E<w;E++){var k=s(e,C+3*E,3);h.itree[1+(h.ordr[E]<<1)]=k,k>N&&(N=k)}C+=3*w,l(h.itree,N),c(h.itree,N,h.imap),f=h.lmap,p=h.dmap,C=o(h.imap,(1<<N)-1,b+y,e,C,h.ttree);var I=i._copyOut(h.ttree,0,b,h.ltree);x=(1<<I)-1;var S=i._copyOut(h.ttree,b,y,h.dtree);_=(1<<S)-1,l(h.ltree,I),c(h.ltree,I,f),l(h.dtree,S),c(h.dtree,S,p)}for(;;){var j=f[d(e,C)&x];C+=15&j;var T=j>>>4;if(T>>>8==0)r[A++]=T;else{if(256==T)break;var R=A+T-254;if(T>264){var z=h.ldef[T-257];R=A+(z>>>3)+s(e,C,7&z),C+=7&z}var M=p[d(e,C)&_];C+=15&M;var U=M>>>4,O=h.ddef[U],D=(O>>>4)+a(e,C,15&O);for(C+=15&O,u&&(r=v.F._check(r,A+131072));A<R;)r[A]=r[A++-D],r[A]=r[A++-D],r[A]=r[A++-D],r[A]=r[A++-D];A=R}}}else{0!=(7&C)&&(C+=8-(7&C));var F=4+(C>>>3),P=e[F-4]|e[F-3]<<8;u&&(r=v.F._check(r,A+P)),r.set(new n(e.buffer,e.byteOffset+F,P),A),C=F+P<<3,A+=P}return r.length==A?r:r.slice(0,A)},v.F._check=function(e,r){var n=e.length;if(r<=n)return e;var i=new Uint8Array(Math.max(n<<1,r));return i.set(e,0),i},v.F._decodeTiny=function(e,r,n,i,a,s){for(var o=v.F._bitsE,l=v.F._get17,c=0;c<n;){var d=e[l(i,a)&r];a+=15&d;var h=d>>>4;if(h<=15)s[c]=h,c++;else{var u=0,f=0;16==h?(f=3+o(i,a,2),a+=2,u=s[c-1]):17==h?(f=3+o(i,a,3),a+=3):18==h&&(f=11+o(i,a,7),a+=7);for(var p=c+f;c<p;)s[c]=u,c++}}return a},v.F._copyOut=function(e,r,n,i){for(var a=0,s=0,o=i.length>>>1;s<n;){var l=e[s+r];i[s<<1]=0,i[1+(s<<1)]=l,l>a&&(a=l),s++}for(;s<o;)i[s<<1]=0,i[1+(s<<1)]=0,s++;return a},v.F.makeCodes=function(e,r){for(var n,i,a,s,o=v.F.U,l=e.length,c=o.bl_count,d=0;d<=r;d++)c[d]=0;for(d=1;d<l;d+=2)c[e[d]]++;var h=o.next_code;for(n=0,c[0]=0,i=1;i<=r;i++)n=n+c[i-1]<<1,h[i]=n;for(a=0;a<l;a+=2)0!=(s=e[a+1])&&(e[a]=h[s],h[s]++)},v.F.codes2map=function(e,r,n){for(var i=e.length,a=v.F.U.rev15,s=0;s<i;s+=2)if(0!=e[s+1])for(var o=s>>1,l=e[s+1],c=o<<4|l,d=r-l,h=e[s]<<d,u=h+(1<<d);h!=u;)n[a[h]>>>15-r]=c,h++},v.F.revCodes=function(e,r){for(var n=v.F.U.rev15,i=15-r,a=0;a<e.length;a+=2){var s=e[a]<<r-e[a+1];e[a]=n[s]>>>i}},v.F._putsE=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},v.F._putsF=function(e,r,n){n<<=7&r;var i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},v.F._bitsE=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},v.F._bitsF=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},v.F._get17=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},v.F._get25=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},v.F.U=(w=Uint16Array,x=Uint32Array,{next_code:new w(16),bl_count:new w(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new w(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new x(32),flmap:new w(512),fltree:[],fdmap:new w(32),fdtree:[],lmap:new w(32768),ltree:[],ttree:[],dmap:new w(32768),dtree:[],imap:new w(512),itree:[],rev15:new w(32768),lhst:new x(286),dhst:new x(30),ihst:new x(19),lits:new x(15e3),strt:new w(65536),prev:new w(32768)}),function(){for(var e=v.F.U,r=0;r<32768;r++){var n=r;n=(0xff00ff00&(n=(0xf0f0f0f0&(n=(0xcccccccc&(n=(0xaaaaaaaa&n)>>>1|(0x55555555&n)<<1))>>>2|(0x33333333&n)<<2))>>>4|(0xf0f0f0f&n)<<4))>>>8|(0xff00ff&n)<<8,e.rev15[r]=(n>>>16|n<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(r=0;r<32;r++)e.ldef[r]=e.of0[r]<<3|e.exb[r],e.ddef[r]=e.df0[r]<<4|e.dxb[r];i(e.fltree,144,8),i(e.fltree,112,9),i(e.fltree,24,7),i(e.fltree,8,8),v.F.makeCodes(e.fltree,9),v.F.codes2map(e.fltree,9,e.flmap),v.F.revCodes(e.fltree,9),i(e.fdtree,32,5),v.F.makeCodes(e.fdtree,5),v.F.codes2map(e.fdtree,5,e.fdmap),v.F.revCodes(e.fdtree,5),i(e.itree,19,0),i(e.ltree,286,0),i(e.dtree,30,0),i(e.ttree,320,0)}();var nG=(_={__proto__:null,default:nW},[nW].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(r){if("default"!==r&&!(r in _)){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(_,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})}),Object.freeze(_));let nK=function(){let e,r,n;var i={nextZero(e,r){for(;0!=e[r];)r++;return r},readUshort:(e,r)=>e[r]<<8|e[r+1],writeUshort(e,r,n){e[r]=n>>8&255,e[r+1]=255&n},readUint:(e,r)=>0x1000000*e[r]+(e[r+1]<<16|e[r+2]<<8|e[r+3]),writeUint(e,r,n){e[r]=n>>24&255,e[r+1]=n>>16&255,e[r+2]=n>>8&255,e[r+3]=255&n},readASCII(e,r,n){let i="";for(let a=0;a<n;a++)i+=String.fromCharCode(e[r+a]);return i},writeASCII(e,r,n){for(let i=0;i<n.length;i++)e[r+i]=n.charCodeAt(i)},readBytes(e,r,n){let i=[];for(let a=0;a<n;a++)i.push(e[r+a]);return i},pad:e=>e.length<2?`0${e}`:e,readUTF8(e,r,n){let a,s="";for(let a=0;a<n;a++)s+=`%${i.pad(e[r+a].toString(16))}`;try{a=decodeURIComponent(s)}catch(a){return i.readASCII(e,r,n)}return a}};function a(e,r,n,a){let s=r*n,o=Math.ceil(r*c(a)/8),l=new Uint8Array(4*s),d=new Uint32Array(l.buffer),{ctype:h}=a,{depth:u}=a,f=i.readUshort;if(6==h){let r=s<<2;if(8==u)for(var p=0;p<r;p+=4)l[p]=e[p],l[p+1]=e[p+1],l[p+2]=e[p+2],l[p+3]=e[p+3];if(16==u)for(p=0;p<r;p++)l[p]=e[p<<1]}else if(2==h){let r=a.tabs.tRNS;if(null==r){if(8==u)for(p=0;p<s;p++){var g=3*p;d[p]=-0x1000000|e[g+2]<<16|e[g+1]<<8|e[g]}if(16==u)for(p=0;p<s;p++)g=6*p,d[p]=-0x1000000|e[g+4]<<16|e[g+2]<<8|e[g]}else{var m=r[0];let n=r[1],i=r[2];if(8==u)for(p=0;p<s;p++){var b=p<<2;g=3*p,d[p]=-0x1000000|e[g+2]<<16|e[g+1]<<8|e[g],e[g]==m&&e[g+1]==n&&e[g+2]==i&&(l[b+3]=0)}if(16==u)for(p=0;p<s;p++)b=p<<2,g=6*p,d[p]=-0x1000000|e[g+4]<<16|e[g+2]<<8|e[g],f(e,g)==m&&f(e,g+2)==n&&f(e,g+4)==i&&(l[b+3]=0)}}else if(3==h){let i=a.tabs.PLTE,c=a.tabs.tRNS,d=c?c.length:0;if(1==u)for(var y,w=0;w<n;w++){var x=w*o,v=w*r;for(p=0;p<r;p++){b=v+p<<2;var _=3*(y=e[x+(p>>3)]>>7-(7&p)&1);l[b]=i[_],l[b+1]=i[_+1],l[b+2]=i[_+2],l[b+3]=y<d?c[y]:255}}if(2==u)for(w=0;w<n;w++)for(x=w*o,v=w*r,p=0;p<r;p++)b=v+p<<2,_=3*(y=e[x+(p>>2)]>>6-((3&p)<<1)&3),l[b]=i[_],l[b+1]=i[_+1],l[b+2]=i[_+2],l[b+3]=y<d?c[y]:255;if(4==u)for(w=0;w<n;w++)for(x=w*o,v=w*r,p=0;p<r;p++)b=v+p<<2,_=3*(y=e[x+(p>>1)]>>4-((1&p)<<2)&15),l[b]=i[_],l[b+1]=i[_+1],l[b+2]=i[_+2],l[b+3]=y<d?c[y]:255;if(8==u)for(p=0;p<s;p++)b=p<<2,_=3*(y=e[p]),l[b]=i[_],l[b+1]=i[_+1],l[b+2]=i[_+2],l[b+3]=y<d?c[y]:255}else if(4==h){if(8==u)for(p=0;p<s;p++){b=p<<2;var A,C=e[A=p<<1];l[b]=C,l[b+1]=C,l[b+2]=C,l[b+3]=e[A+1]}if(16==u)for(p=0;p<s;p++)b=p<<2,C=e[A=p<<2],l[b]=C,l[b+1]=C,l[b+2]=C,l[b+3]=e[A+2]}else if(0==h)for(m=a.tabs.tRNS?a.tabs.tRNS:-1,w=0;w<n;w++){let n=w*o,i=w*r;if(1==u)for(var E=0;E<r;E++){var N=255*((C=255*(e[n+(E>>>3)]>>>7-(7&E)&1))!=255*m);d[i+E]=N<<24|C<<16|C<<8|C}else if(2==u)for(E=0;E<r;E++)N=255*((C=85*(e[n+(E>>>2)]>>>6-((3&E)<<1)&3))!=85*m),d[i+E]=N<<24|C<<16|C<<8|C;else if(4==u)for(E=0;E<r;E++)N=255*((C=17*(e[n+(E>>>1)]>>>4-((1&E)<<2)&15))!=17*m),d[i+E]=N<<24|C<<16|C<<8|C;else if(8==u)for(E=0;E<r;E++)N=255*((C=e[n+E])!=m),d[i+E]=N<<24|C<<16|C<<8|C;else if(16==u)for(E=0;E<r;E++)C=e[n+(E<<1)],N=255*(f(e,n+(E<<1))!=m),d[i+E]=N<<24|C<<16|C<<8|C}return l}function s(e,r,n,i){let a=new Uint8Array((Math.ceil(n*c(e)/8)+1+e.interlace)*i);return r=e.tabs.CgBI?l(r,a):o(r,a),0==e.interlace?r=d(r,e,0,n,i):1==e.interlace&&(r=function(e,r){let n=r.width,i=r.height,a=c(r),s=a>>3,o=Math.ceil(n*a/8),l=new Uint8Array(i*o),h=0,u=[0,0,4,0,2,0,1],f=[0,4,0,2,0,1,0],p=[8,8,8,4,4,2,2],g=[8,8,4,4,2,2,1],m=0;for(;m<7;){let c=p[m],y=g[m],w=0,x=0,v=u[m];for(;v<i;)v+=c,x++;let _=f[m];for(;_<n;)_+=y,w++;let A=Math.ceil(w*a/8);d(e,r,h,w,x);let C=0,E=u[m];for(;E<i;){let r=f[m],i=h+C*A<<3;for(;r<n;){var b;if(1==a&&(b=(b=e[i>>3])>>7-(7&i)&1,l[E*o+(r>>3)]|=b<<7-(7&r)),2==a&&(b=(b=e[i>>3])>>6-(7&i)&3,l[E*o+(r>>2)]|=b<<6-((3&r)<<1)),4==a&&(b=(b=e[i>>3])>>4-(7&i)&15,l[E*o+(r>>1)]|=b<<4-((1&r)<<2)),a>=8){let n=E*o+r*s;for(let r=0;r<s;r++)l[n+r]=e[(i>>3)+r]}i+=a,r+=y}C++,E+=c}w*x!=0&&(h+=x*(1+A)),m+=1}return l}(r,e)),r}function o(e,r){return l(new Uint8Array(e.buffer,2,e.length-6),r)}var l=((e={}).N=function(r,n){let i=Uint8Array,a,s,o=0,l=0,c=0,d=0,h=0,u=0,f=0,p=0,g=0;if(3==r[0]&&0==r[1])return n||new i(0);let m=e.b,b=e.e,y=e.R,w=e.n,x=e.A,v=e.Z,_=e.m,A=null==n;for(A&&(n=new i(r.length>>>2<<5));0==o;)if(o=m(r,g,1),l=m(r,g+1,2),g+=3,0!=l){if(A&&(n=e.W(n,p+131072)),1==l&&(a=_.J,s=_.h,u=511,f=31),2==l){c=b(r,g,5)+257,d=b(r,g+5,5)+1,h=b(r,g+10,4)+4,g+=14;let n=1;for(var C=0;C<38;C+=2)_.Q[C]=0,_.Q[C+1]=0;for(C=0;C<h;C++){let e=b(r,g+3*C,3);_.Q[1+(_.X[C]<<1)]=e,e>n&&(n=e)}g+=3*h,w(_.Q,n),x(_.Q,n,_.u),a=_.w,s=_.d,g=y(_.u,(1<<n)-1,c+d,r,g,_.v);let i=e.V(_.v,0,c,_.C);u=(1<<i)-1;let o=e.V(_.v,c,d,_.D);f=(1<<o)-1,w(_.C,i),x(_.C,i,a),w(_.D,o),x(_.D,o,s)}for(;;){let e=a[v(r,g)&u];g+=15&e;let i=e>>>4;if(i>>>8==0)n[p++]=i;else{if(256==i)break;{let e=p+i-254;if(i>264){let n=_.q[i-257];e=p+(n>>>3)+b(r,g,7&n),g+=7&n}let a=s[v(r,g)&f];g+=15&a;let o=a>>>4,l=_.c[o],c=(l>>>4)+m(r,g,15&l);for(g+=15&l;p<e;)n[p]=n[p++-c],n[p]=n[p++-c],n[p]=n[p++-c],n[p]=n[p++-c];p=e}}}}else{0!=(7&g)&&(g+=8-(7&g));let a=4+(g>>>3),s=r[a-4]|r[a-3]<<8;A&&(n=e.W(n,p+s)),n.set(new i(r.buffer,r.byteOffset+a,s),p),g=a+s<<3,p+=s}return n.length==p?n:n.slice(0,p)},e.W=function(e,r){let n=e.length;if(r<=n)return e;let i=new Uint8Array(n<<1);return i.set(e,0),i},e.R=function(r,n,i,a,s,o){let l=e.e,c=e.Z,d=0;for(;d<i;){let e=r[c(a,s)&n];s+=15&e;let i=e>>>4;if(i<=15)o[d]=i,d++;else{let e=0,r=0;16==i?(r=3+l(a,s,2),s+=2,e=o[d-1]):17==i?(r=3+l(a,s,3),s+=3):18==i&&(r=11+l(a,s,7),s+=7);let n=d+r;for(;d<n;)o[d]=e,d++}}return s},e.V=function(e,r,n,i){let a=0,s=0,o=i.length>>>1;for(;s<n;){let n=e[s+r];i[s<<1]=0,i[1+(s<<1)]=n,n>a&&(a=n),s++}for(;s<o;)i[s<<1]=0,i[1+(s<<1)]=0,s++;return a},e.n=function(r,n){let i,a,s,o,l=e.m,c=r.length,d=l.j;for(var h=0;h<=n;h++)d[h]=0;for(h=1;h<c;h+=2)d[r[h]]++;let u=l.K;for(i=0,d[0]=0,a=1;a<=n;a++)i=i+d[a-1]<<1,u[a]=i;for(s=0;s<c;s+=2)0!=(o=r[s+1])&&(r[s]=u[o],u[o]++)},e.A=function(r,n,i){let a=r.length,s=e.m.r;for(let e=0;e<a;e+=2)if(0!=r[e+1]){let a=e>>1,o=r[e+1],l=a<<4|o,c=n-o,d=r[e]<<c,h=d+(1<<c);for(;d!=h;)i[s[d]>>>15-n]=l,d++}},e.l=function(r,n){let i=e.m.r,a=15-n;for(let e=0;e<r.length;e+=2){let s=r[e]<<n-r[e+1];r[e]=i[s]>>>a}},e.M=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8},e.I=function(e,r,n){n<<=7&r;let i=r>>>3;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},e.e=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8)>>>(7&r)&(1<<n)-1},e.b=function(e,r,n){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)&(1<<n)-1},e.Z=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16)>>>(7&r)},e.i=function(e,r){return(e[r>>>3]|e[1+(r>>>3)]<<8|e[2+(r>>>3)]<<16|e[3+(r>>>3)]<<24)>>>(7&r)},r=Uint16Array,n=Uint32Array,e.m={K:new r(16),j:new r(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new r(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new n(32),J:new r(512),_:[],h:new r(32),$:[],w:new r(32768),C:[],v:[],d:new r(32768),D:[],u:new r(512),Q:[],r:new r(32768),s:new n(286),Y:new n(30),a:new n(19),t:new n(15e3),k:new r(65536),g:new r(32768)},function(){let r=e.m;for(var n=0;n<32768;n++){let e=n;e=(0xff00ff00&(e=(0xf0f0f0f0&(e=(0xcccccccc&(e=(0xaaaaaaaa&e)>>>1|(0x55555555&e)<<1))>>>2|(0x33333333&e)<<2))>>>4|(0xf0f0f0f&e)<<4))>>>8|(0xff00ff&e)<<8,r.r[n]=(e>>>16|e<<16)>>>17}function i(e,r,n){for(;0!=r--;)e.push(0,n)}for(n=0;n<32;n++)r.q[n]=r.S[n]<<3|r.T[n],r.c[n]=r.p[n]<<4|r.z[n];i(r._,144,8),i(r._,112,9),i(r._,24,7),i(r._,8,8),e.n(r._,9),e.A(r._,9,r.J),e.l(r._,9),i(r.$,32,5),e.n(r.$,5),e.A(r.$,5,r.h),e.l(r.$,5),i(r.Q,19,0),i(r.C,286,0),i(r.D,30,0),i(r.v,320,0)}(),e.N);function c(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth}function d(e,r,n,i,a){let s,o,l=c(r),d=Math.ceil(i*l/8);l=Math.ceil(l/8);let u=e[n],f=0;if(u>1&&(e[n]=[0,0,1][u-2]),3==u)for(f=l;f<d;f++)e[f+1]=e[f+1]+(e[f+1-l]>>>1)&255;for(let r=0;r<a;r++)if(u=e[(o=(s=n+r*d)+r+1)-1],f=0,0==u)for(;f<d;f++)e[s+f]=e[o+f];else if(1==u){for(;f<l;f++)e[s+f]=e[o+f];for(;f<d;f++)e[s+f]=e[o+f]+e[s+f-l]}else if(2==u)for(;f<d;f++)e[s+f]=e[o+f]+e[s+f-d];else if(3==u){for(;f<l;f++)e[s+f]=e[o+f]+(e[s+f-d]>>>1);for(;f<d;f++)e[s+f]=e[o+f]+(e[s+f-d]+e[s+f-l]>>>1)}else{for(;f<l;f++)e[s+f]=e[o+f]+h(0,e[s+f-d],0);for(;f<d;f++)e[s+f]=e[o+f]+h(e[s+f-l],e[s+f-d],e[s+f-l-d])}return e}function h(e,r,n){let i=e+r-n,a=i-e,s=i-r,o=i-n;return a*a<=s*s&&a*a<=o*o?e:s*s<=o*o?r:n}function u(e,r,n,i,a,s,o,l,c){let d=Math.min(r,a),h=Math.min(n,s),u=0,f=0;for(let n=0;n<h;n++)for(let s=0;s<d;s++)if(o>=0&&l>=0?(u=n*r+s<<2,f=(l+n)*a+o+s<<2):(u=(-l+n)*r-o+s<<2,f=n*a+s<<2),0==c)i[f]=e[u],i[f+1]=e[u+1],i[f+2]=e[u+2],i[f+3]=e[u+3];else if(1==c){var p=e[u+3]*(1/255),g=e[u]*p,m=e[u+1]*p,b=e[u+2]*p,y=i[f+3]*(1/255),w=i[f]*y,x=i[f+1]*y,v=i[f+2]*y;let r=1-p,n=p+y*r,a=0==n?0:1/n;i[f+3]=255*n,i[f+0]=(g+w*r)*a,i[f+1]=(m+x*r)*a,i[f+2]=(b+v*r)*a}else if(2==c)p=e[u+3],g=e[u],m=e[u+1],b=e[u+2],y=i[f+3],w=i[f],x=i[f+1],v=i[f+2],p==y&&g==w&&m==x&&b==v?(i[f]=0,i[f+1]=0,i[f+2]=0,i[f+3]=0):(i[f]=g,i[f+1]=m,i[f+2]=b,i[f+3]=p);else if(3==c){if(p=e[u+3],g=e[u],m=e[u+1],b=e[u+2],y=i[f+3],w=i[f],x=i[f+1],v=i[f+2],p==y&&g==w&&m==x&&b==v)continue;if(p<220&&y>20)return!1}return!0}return{decode:function(e){let r=new Uint8Array(e),n=8,a=i.readUshort,c=i.readUint,d={tabs:{},frames:[]},h=new Uint8Array(r.length),u,f=0,p=0,g=[137,80,78,71,13,10,26,10];for(var m,b=0;b<8;b++)if(r[b]!=g[b])throw"The input is not a PNG file!";for(;n<r.length;){let e=i.readUint(r,n);n+=4;let g=i.readASCII(r,n,4);if(n+=4,"IHDR"==g)y=n,d.width=i.readUint(r,y),y+=4,d.height=i.readUint(r,y),d.depth=r[y+=4],d.ctype=r[++y],d.compress=r[++y],d.filter=r[++y],d.interlace=r[++y],y++;else if("iCCP"==g){for(var y,w,x=n;0!=r[x];)x++;i.readASCII(r,n,x-n),r[x+1];let a=r.slice(x+2,n+e),s=null;try{s=o(a)}catch(e){s=l(a)}d.tabs[g]=s}else if("CgBI"==g)d.tabs[g]=r.slice(n,n+4);else if("IDAT"==g){for(b=0;b<e;b++)h[f+b]=r[n+b];f+=e}else if("acTL"==g)d.tabs[g]={num_frames:c(r,n),num_plays:c(r,n+4)},u=new Uint8Array(r.length);else if("fcTL"==g){0!=p&&((m=d.frames[d.frames.length-1]).data=s(d,u.slice(0,p),m.rect.width,m.rect.height),p=0);let e={x:c(r,n+12),y:c(r,n+16),width:c(r,n+4),height:c(r,n+8)},i=a(r,n+22),o={rect:e,delay:Math.round(1e3*(i=a(r,n+20)/(0==i?100:i))),dispose:r[n+24],blend:r[n+25]};d.frames.push(o)}else if("fdAT"==g){for(b=0;b<e-4;b++)u[p+b]=r[n+b+4];p+=e-4}else if("pHYs"==g)d.tabs[g]=[i.readUint(r,n),i.readUint(r,n+4),r[n+8]];else if("cHRM"==g)for(b=0,d.tabs[g]=[];b<8;b++)d.tabs[g].push(i.readUint(r,n+4*b));else if("tEXt"==g||"zTXt"==g){null==d.tabs[g]&&(d.tabs[g]={});var v=i.nextZero(r,n),_=i.readASCII(r,n,v-n),A=n+e-v-1;if("tEXt"==g)w=i.readASCII(r,v+1,A);else{var C=o(r.slice(v+2,v+2+A));w=i.readUTF8(C,0,C.length)}d.tabs[g][_]=w}else if("iTXt"==g){null==d.tabs[g]&&(d.tabs[g]={}),v=0,x=n,v=i.nextZero(r,x),_=i.readASCII(r,x,v-x);let a=r[x=v+1];r[x+1],x+=2,v=i.nextZero(r,x),i.readASCII(r,x,v-x),x=v+1,v=i.nextZero(r,x),i.readUTF8(r,x,v-x),A=e-((x=v+1)-n),0==a?w=i.readUTF8(r,x,A):(C=o(r.slice(x,x+A)),w=i.readUTF8(C,0,C.length)),d.tabs[g][_]=w}else if("PLTE"==g)d.tabs[g]=i.readBytes(r,n,e);else if("hIST"==g){let e=d.tabs.PLTE.length/3;for(b=0,d.tabs[g]=[];b<e;b++)d.tabs[g].push(a(r,n+2*b))}else if("tRNS"==g)3==d.ctype?d.tabs[g]=i.readBytes(r,n,e):0==d.ctype?d.tabs[g]=a(r,n):2==d.ctype&&(d.tabs[g]=[a(r,n),a(r,n+2),a(r,n+4)]);else if("gAMA"==g)d.tabs[g]=i.readUint(r,n)/1e5;else if("sRGB"==g)d.tabs[g]=r[n];else if("bKGD"==g)0==d.ctype||4==d.ctype?d.tabs[g]=[a(r,n)]:2==d.ctype||6==d.ctype?d.tabs[g]=[a(r,n),a(r,n+2),a(r,n+4)]:3==d.ctype&&(d.tabs[g]=r[n]);else if("IEND"==g)break;n+=e,i.readUint(r,n),n+=4}return 0!=p&&((m=d.frames[d.frames.length-1]).data=s(d,u.slice(0,p),m.rect.width,m.rect.height)),d.data=s(d,h,d.width,d.height),delete d.compress,delete d.interlace,delete d.filter,d},toRGBA8:function(e){let r=e.width,n=e.height;if(null==e.tabs.acTL)return[a(e.data,r,n,e).buffer];let i=[];null==e.frames[0].data&&(e.frames[0].data=e.data);let s=r*n*4,o=new Uint8Array(s),l=new Uint8Array(s),c=new Uint8Array(s);for(let h=0;h<e.frames.length;h++){let f=e.frames[h],p=f.rect.x,g=f.rect.y,m=f.rect.width,b=f.rect.height,y=a(f.data,m,b,e);if(0!=h)for(var d=0;d<s;d++)c[d]=o[d];if(0==f.blend?u(y,m,b,o,r,n,p,g,0):1==f.blend&&u(y,m,b,o,r,n,p,g,1),i.push(o.buffer.slice(0)),0==f.dispose);else if(1==f.dispose)u(l,m,b,o,r,n,p,g,0);else if(2==f.dispose)for(d=0;d<s;d++)o[d]=c[d]}return i},_paeth:h,_copyTile:u,_bin:i}}();!function(){let{_copyTile:e}=nK,{_bin:r}=nK,n=nK._paeth;var i={table:function(){let e=new Uint32Array(256);for(let r=0;r<256;r++){let n=r;for(let e=0;e<8;e++)1&n?n=0xedb88320^n>>>1:n>>>=1;e[r]=n}return e}(),update(e,r,n,a){for(let s=0;s<a;s++)e=i.table[255&(e^r[n+s])]^e>>>8;return e},crc:(e,r,n)=>0xffffffff^i.update(0xffffffff,e,r,n)};function a(e,r,n,i){r[n]+=e[0]*i>>4,r[n+1]+=e[1]*i>>4,r[n+2]+=e[2]*i>>4,r[n+3]+=e[3]*i>>4}function s(e){return Math.max(0,Math.min(255,e))}function o(e,r){let n=e[0]-r[0],i=e[1]-r[1],a=e[2]-r[2],s=e[3]-r[3];return n*n+i*i+a*a+s*s}function l(e,r,n,i,l,c,d){null==d&&(d=1);let h=i.length,u=[];for(var f,p=0;p<h;p++){let e=i[p];u.push([e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255])}for(p=0;p<h;p++){let e=0xffffffff;for(var g=0,m=0;m<h;m++){var b=o(u[p],u[m]);m!=p&&b<e&&(e=b,g=m)}}let y=new Uint32Array(l.buffer),w=new Int16Array(r*n*4),x=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(p=0;p<x.length;p++)x[p]=255*((x[p]+.5)/16-.5);for(let l=0;l<n;l++)for(let v=0;v<r;v++){p=4*(l*r+v),2!=d?f=[s(e[p]+w[p]),s(e[p+1]+w[p+1]),s(e[p+2]+w[p+2]),s(e[p+3]+w[p+3])]:(b=x[4*(3&l)+(3&v)],f=[s(e[p]+b),s(e[p+1]+b),s(e[p+2]+b),s(e[p+3]+b)]),g=0;let _=0xffffff;for(m=0;m<h;m++){let e=o(f,u[m]);e<_&&(_=e,g=m)}let A=u[g],C=[f[0]-A[0],f[1]-A[1],f[2]-A[2],f[3]-A[3]];1==d&&(v!=r-1&&a(C,w,p+4,7),l!=n-1&&(0!=v&&a(C,w,p+4*r-4,3),a(C,w,p+4*r,5),v!=r-1&&a(C,w,p+4*r+4,1))),c[p>>2]=g,y[p>>2]=i[g]}}function c(e,n,a,s,o){null==o&&(o={});let{crc:l}=i,c=r.writeUint,d=r.writeUshort,h=r.writeASCII,u=8,f=e.frames.length>1,p,g=!1,m=33+20*!!f;if(null!=o.sRGB&&(m+=13),null!=o.pHYs&&(m+=21),null!=o.iCCP&&(m+=21+(p=pako.deflate(o.iCCP)).length+4),3==e.ctype){for(var b=e.plte.length,y=0;y<b;y++)e.plte[y]>>>24!=255&&(g=!0);m+=8+3*b+4+(g?8+ +b+4:0)}for(var w=0;w<e.frames.length;w++)f&&(m+=38),m+=(A=e.frames[w]).cimg.length+12,0!=w&&(m+=4);let x=new Uint8Array(m+=12),v=[137,80,78,71,13,10,26,10];for(y=0;y<8;y++)x[y]=v[y];if(c(x,u,13),h(x,u+=4,"IHDR"),c(x,u+=4,n),c(x,u+=4,a),x[u+=4]=e.depth,x[++u]=e.ctype,x[++u]=0,x[++u]=0,x[++u]=0,c(x,++u,l(x,u-17,17)),u+=4,null!=o.sRGB&&(c(x,u,1),h(x,u+=4,"sRGB"),x[u+=4]=o.sRGB,c(x,++u,l(x,u-5,5)),u+=4),null!=o.iCCP){let e=13+p.length;c(x,u,e),h(x,u+=4,"iCCP"),h(x,u+=4,"ICC profile"),u+=11,u+=2,x.set(p,u),c(x,u+=p.length,l(x,u-(e+4),e+4)),u+=4}if(null!=o.pHYs&&(c(x,u,9),h(x,u+=4,"pHYs"),c(x,u+=4,o.pHYs[0]),c(x,u+=4,o.pHYs[1]),x[u+=4]=o.pHYs[2],c(x,++u,l(x,u-13,13)),u+=4),f&&(c(x,u,8),h(x,u+=4,"acTL"),c(x,u+=4,e.frames.length),c(x,u+=4,null!=o.loop?o.loop:0),c(x,u+=4,l(x,u-12,12)),u+=4),3==e.ctype){for(c(x,u,3*(b=e.plte.length)),h(x,u+=4,"PLTE"),u+=4,y=0;y<b;y++){let r=3*y,n=e.plte[y],i=255&n,a=n>>>8&255,s=n>>>16&255;x[u+r+0]=i,x[u+r+1]=a,x[u+r+2]=s}if(c(x,u+=3*b,l(x,u-3*b-4,3*b+4)),u+=4,g){for(c(x,u,b),h(x,u+=4,"tRNS"),u+=4,y=0;y<b;y++)x[u+y]=e.plte[y]>>>24&255;c(x,u+=b,l(x,u-b-4,b+4)),u+=4}}let _=0;for(w=0;w<e.frames.length;w++){var A=e.frames[w];f&&(c(x,u,26),h(x,u+=4,"fcTL"),c(x,u+=4,_++),c(x,u+=4,A.rect.width),c(x,u+=4,A.rect.height),c(x,u+=4,A.rect.x),c(x,u+=4,A.rect.y),d(x,u+=4,s[w]),d(x,u+=2,1e3),x[u+=2]=A.dispose,x[++u]=A.blend,c(x,++u,l(x,u-30,30)),u+=4);let r=A.cimg;c(x,u,(b=r.length)+4*(0!=w));let n=u+=4;h(x,u,0==w?"IDAT":"fdAT"),u+=4,0!=w&&(c(x,u,_++),u+=4),x.set(r,u),c(x,u+=b,l(x,n,u-n)),u+=4}return c(x,u,0),h(x,u+=4,"IEND"),c(x,u+=4,l(x,u-4,4)),u+=4,x.buffer}function d(e,r,i){for(let a=0;a<e.frames.length;a++){let s=e.frames[a];s.rect.width;let o=s.rect.height,l=new Uint8Array(o*s.bpl+o);s.cimg=function(e,r,i,a,s,o,l){let c=[],d,h=[0,1,2,3,4];-1!=o?h=[o]:(r*a>5e5||1==i)&&(h=[0]),l&&(d={level:0});for(var u=0;u<h.length;u++){for(let o=0;o<r;o++)!function(e,r,i,a,s,o){let l=i*a,c=l+i;if(e[c]=o,c++,0==o)if(a<500)for(var d=0;d<a;d++)e[c+d]=r[l+d];else e.set(new Uint8Array(r.buffer,l,a),c);else if(1==o){for(d=0;d<s;d++)e[c+d]=r[l+d];for(d=s;d<a;d++)e[c+d]=r[l+d]-r[l+d-s]+256&255}else if(0==i){for(d=0;d<s;d++)e[c+d]=r[l+d];if(2==o)for(d=s;d<a;d++)e[c+d]=r[l+d];if(3==o)for(d=s;d<a;d++)e[c+d]=r[l+d]-(r[l+d-s]>>1)+256&255;if(4==o)for(d=s;d<a;d++)e[c+d]=r[l+d]-n(r[l+d-s],0,0)+256&255}else{if(2==o)for(d=0;d<a;d++)e[c+d]=r[l+d]+256-r[l+d-a]&255;if(3==o){for(d=0;d<s;d++)e[c+d]=r[l+d]+256-(r[l+d-a]>>1)&255;for(d=s;d<a;d++)e[c+d]=r[l+d]+256-(r[l+d-a]+r[l+d-s]>>1)&255}if(4==o){for(d=0;d<s;d++)e[c+d]=r[l+d]+256-n(0,r[l+d-a],0)&255;for(d=s;d<a;d++)e[c+d]=r[l+d]+256-n(r[l+d-s],r[l+d-a],r[l+d-s-a])&255}}}(s,e,o,a,i,h[u]);c.push(nG.deflate(s,d))}let f,p=1e9;for(u=0;u<c.length;u++)c[u].length<p&&(f=u,p=c[u].length);return c[f]}(s.img,o,s.bpp,s.bpl,l,r,i)}}function h(r,n,i,a,s){let o=s[0],c=s[1],d=s[2],h=s[3],g=s[4],m=s[5],b=6,y=8,w=255;for(var x=0;x<r.length;x++){let e=new Uint8Array(r[x]);for(var v=e.length,_=0;_<v;_+=4)w&=e[_+3]}let A=255!=w,C=function(r,n,i,a,s,o){let l=[];for(var c,d=0;d<r.length;d++){let c=new Uint8Array(r[d]),u=new Uint32Array(c.buffer),m=0,b=0,y=n,w=i,x=+!!a;if(0!=d){let v=o||a||1==d||0!=l[d-2].dispose?1:2,_=0,A=1e9;for(let e=0;e<v;e++){var h,p=new Uint8Array(r[d-1-e]);let a=new Uint32Array(r[d-1-e]),o=n,l=i,c=-1,f=-1;for(let e=0;e<i;e++)for(let r=0;r<n;r++)u[g=e*n+r]!=a[g]&&(r<o&&(o=r),r>c&&(c=r),e<l&&(l=e),e>f&&(f=e));-1==c&&(o=l=c=f=0),s&&(1==(1&o)&&o--,1==(1&l)&&l--);let x=(c-o+1)*(f-l+1);x<A&&(A=x,_=e,m=o,b=l,y=c-o+1,w=f-l+1)}p=new Uint8Array(r[d-1-_]),1==_&&(l[d-1].dispose=2),e(p,n,i,h=new Uint8Array(y*w*4),y,w,-m,-b,0),1==(x=+!!e(c,n,i,h,y,w,-m,-b,3))?f(c,n,i,h,{x:m,y:b,width:y,height:w}):e(c,n,i,h,y,w,-m,-b,0)}else h=c.slice(0);l.push({rect:{x:m,y:b,width:y,height:w},img:h,blend:x,dispose:0})}if(a)for(d=0;d<l.length;d++){if(1==(c=l[d]).blend)continue;let e=c.rect,a=l[d-1].rect,o=Math.min(e.x,a.x),h=Math.min(e.y,a.y),f={x:o,y:h,width:Math.max(e.x+e.width,a.x+a.width)-o,height:Math.max(e.y+e.height,a.y+a.height)-h};l[d-1].dispose=1,d-1!=0&&u(r,n,i,l,d-1,f,s),u(r,n,i,l,d,f,s)}if(1!=r.length)for(var g=0;g<l.length;g++)(c=l[g]).rect.width,c.rect.height;return l}(r,n,i,o,c,d),E={},N=[],k=[];if(0!=a){let e=[];for(_=0;_<C.length;_++)e.push(C[_].img.buffer);let r=p(function(e){let r=0;for(var n=0;n<e.length;n++)r+=e[n].byteLength;let i=new Uint8Array(r),a=0;for(n=0;n<e.length;n++){let r=new Uint8Array(e[n]),s=r.length;for(let e=0;e<s;e+=4){let n=r[e],s=r[e+1],o=r[e+2],l=r[e+3];0==l&&(n=s=o=0),i[a+e]=n,i[a+e+1]=s,i[a+e+2]=o,i[a+e+3]=l}a+=s}return i.buffer}(e),a);for(_=0;_<r.plte.length;_++)N.push(r.plte[_].est.rgba);let n=0;for(_=0;_<C.length;_++){let e=(S=C[_]).img.length;var I=new Uint8Array(r.inds.buffer,n>>2,e>>2);k.push(I);let i=new Uint8Array(r.abuf,n,e);m&&l(S.img,S.rect.width,S.rect.height,N,i,I),S.img.set(i),n+=e}}else for(x=0;x<C.length;x++){var S=C[x];let e=new Uint32Array(S.img.buffer);var j=S.rect.width;for(I=new Uint8Array(v=e.length),k.push(I),_=0;_<v;_++){let r=e[_];if(0!=_&&r==e[_-1])I[_]=I[_-1];else if(_>j&&r==e[_-j])I[_]=I[_-j];else{let e=E[r];if(null==e&&(E[r]=e=N.length,N.push(r),N.length>=300))break;I[_]=e}}}let T=N.length;for(T<=256&&0==g&&(y=Math.max(y=T<=2?1:T<=4?2:T<=16?4:8,h)),x=0;x<C.length;x++){(S=C[x]).rect.x,S.rect.y,j=S.rect.width;let e=S.rect.height,r=S.img;new Uint32Array(r.buffer);let n=4*j,i=4;if(T<=256&&0==g){var R=new Uint8Array((n=Math.ceil(y*j/8))*e);let a=k[x];for(let r=0;r<e;r++){_=r*n;let e=r*j;if(8==y)for(var z=0;z<j;z++)R[_+z]=a[e+z];else if(4==y)for(z=0;z<j;z++)R[_+(z>>1)]|=a[e+z]<<4-4*(1&z);else if(2==y)for(z=0;z<j;z++)R[_+(z>>2)]|=a[e+z]<<6-2*(3&z);else if(1==y)for(z=0;z<j;z++)R[_+(z>>3)]|=a[e+z]<<7-(7&z)}r=R,b=3,i=1}else if(0==A&&1==C.length){R=new Uint8Array(j*e*3);let a=j*e;for(_=0;_<a;_++){let e=3*_,n=4*_;R[e]=r[n],R[e+1]=r[n+1],R[e+2]=r[n+2]}r=R,b=2,i=3,n=3*j}S.img=r,S.bpl=n,S.bpp=i}return{ctype:b,depth:y,plte:N,frames:C}}function u(r,n,i,a,s,o,l){let c=Uint8Array,d=Uint32Array,h=new c(r[s-1]),u=new d(r[s-1]),p=s+1<r.length?new c(r[s+1]):null,g=new c(r[s]),m=new d(g.buffer),b=n,y=i,w=-1,x=-1;for(let e=0;e<o.height;e++)for(let r=0;r<o.width;r++){let i=o.x+r,l=o.y+e,c=l*n+i,d=m[c];0==d||0==a[s-1].dispose&&u[c]==d&&(null==p||0!=p[4*c+3])||(i<b&&(b=i),i>w&&(w=i),l<y&&(y=l),l>x&&(x=l))}-1==w&&(b=y=w=x=0),l&&(1==(1&b)&&b--,1==(1&y)&&y--),o={x:b,y:y,width:w-b+1,height:x-y+1};let v=a[s];v.rect=o,v.blend=1,v.img=new Uint8Array(o.width*o.height*4),0==a[s-1].dispose?(e(h,n,i,v.img,o.width,o.height,-o.x,-o.y,0),f(g,n,i,v.img,o)):e(g,n,i,v.img,o.width,o.height,-o.x,-o.y,0)}function f(r,n,i,a,s){e(r,n,i,a,s.width,s.height,-s.x,-s.y,2)}function p(e,r){let n,i=new Uint8Array(e),a=i.slice(0),s=new Uint32Array(a.buffer),o=g(a,r),l=o[0],c=o[1],d=i.length,h=new Uint8Array(d>>2);if(i.length<2e7)for(var u=0;u<d;u+=4)n=m(l,f=i[u]*(1/255),p=i[u+1]*(1/255),y=i[u+2]*(1/255),w=i[u+3]*(1/255)),h[u>>2]=n.ind,s[u>>2]=n.est.rgba;else for(u=0;u<d;u+=4){var f=i[u]*(1/255),p=i[u+1]*(1/255),y=i[u+2]*(1/255),w=i[u+3]*(1/255);for(n=l;n.left;)n=0>=b(n.est,f,p,y,w)?n.left:n.right;h[u>>2]=n.ind,s[u>>2]=n.est.rgba}return{abuf:a.buffer,inds:h,plte:c}}function g(e,r,n){null==n&&(n=1e-4);let i=new Uint32Array(e.buffer),a={i0:0,i1:e.length,bst:null,est:null,tdst:0,left:null,right:null};a.bst=w(e,a.i0,a.i1),a.est=x(a.bst);let s=[a];for(;s.length<r;){let r=0,a=0;for(var o=0;o<s.length;o++)s[o].est.L>r&&(r=s[o].est.L,a=o);if(r<n)break;let l=s[a],c=function(e,r,n,i,a,s){for(i-=4;n<i;){for(;y(e,n,a)<=s;)n+=4;for(;y(e,i,a)>s;)i-=4;if(n>=i)break;let o=r[n>>2];r[n>>2]=r[i>>2],r[i>>2]=o,n+=4,i-=4}for(;y(e,n,a)>s;)n-=4;return n+4}(e,i,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=c||l.i1<=c){l.est.L=0;continue}let d={i0:l.i0,i1:c,bst:null,est:null,tdst:0,left:null,right:null};d.bst=w(e,d.i0,d.i1),d.est=x(d.bst);let h={i0:c,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};for(o=0,h.bst={R:[],m:[],N:l.bst.N-d.bst.N};o<16;o++)h.bst.R[o]=l.bst.R[o]-d.bst.R[o];for(o=0;o<4;o++)h.bst.m[o]=l.bst.m[o]-d.bst.m[o];h.est=x(h.bst),l.left=d,l.right=h,s[a]=d,s.push(h)}for(s.sort((e,r)=>r.bst.N-e.bst.N),o=0;o<s.length;o++)s[o].ind=o;return[a,s]}function m(e,r,n,i,a){if(null==e.left){var s;let o,l,c,d;return s=e.est.q,o=r-s[0],l=n-s[1],c=i-s[2],e.tdst=o*o+l*l+c*c+(d=a-s[3])*d,e}let o=b(e.est,r,n,i,a),l=e.left,c=e.right;o>0&&(l=e.right,c=e.left);let d=m(l,r,n,i,a);if(d.tdst<=o*o)return d;let h=m(c,r,n,i,a);return h.tdst<d.tdst?h:d}function b(e,r,n,i,a){let{e:s}=e;return s[0]*r+s[1]*n+s[2]*i+s[3]*a-e.eMq}function y(e,r,n){return e[r]*n[0]+e[r+1]*n[1]+e[r+2]*n[2]+e[r+3]*n[3]}function w(e,r,n){let i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=[0,0,0,0];for(let s=r;s<n;s+=4){let r=e[s]*(1/255),n=e[s+1]*(1/255),o=e[s+2]*(1/255),l=e[s+3]*(1/255);a[0]+=r,a[1]+=n,a[2]+=o,a[3]+=l,i[0]+=r*r,i[1]+=r*n,i[2]+=r*o,i[3]+=r*l,i[5]+=n*n,i[6]+=n*o,i[7]+=n*l,i[10]+=o*o,i[11]+=o*l,i[15]+=l*l}return i[4]=i[1],i[8]=i[2],i[9]=i[6],i[12]=i[3],i[13]=i[7],i[14]=i[11],{R:i,m:a,N:n-r>>2}}function x(e){let{R:r}=e,{m:n}=e,{N:i}=e,a=n[0],s=n[1],o=n[2],l=n[3],c=0==i?0:1/i,d=[r[0]-a*a*c,r[1]-a*s*c,r[2]-a*o*c,r[3]-a*l*c,r[4]-s*a*c,r[5]-s*s*c,r[6]-s*o*c,r[7]-s*l*c,r[8]-o*a*c,r[9]-o*s*c,r[10]-o*o*c,r[11]-o*l*c,r[12]-l*a*c,r[13]-l*s*c,r[14]-l*o*c,r[15]-l*l*c],h=[Math.random(),Math.random(),Math.random(),Math.random()],u=0,f=0;if(0!=i)for(let e=0;e<16&&(h=v.multVec(d,h),f=Math.sqrt(v.dot(h,h)),h=v.sml(1/f,h),!(0!=e&&1e-9>Math.abs(f-u)));e++)u=f;let p=[a*c,s*c,o*c,l*c];return{Cov:d,q:p,e:h,L:u,eMq255:v.dot(v.sml(255,p),h),eMq:v.dot(h,p),rgba:(Math.round(255*p[3])<<24|Math.round(255*p[2])<<16|Math.round(255*p[1])<<8|(0|Math.round(255*p[0])))>>>0}}var v={multVec:(e,r)=>[e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],e[4]*r[0]+e[5]*r[1]+e[6]*r[2]+e[7]*r[3],e[8]*r[0]+e[9]*r[1]+e[10]*r[2]+e[11]*r[3],e[12]*r[0]+e[13]*r[1]+e[14]*r[2]+e[15]*r[3]],dot:(e,r)=>e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3],sml:(e,r)=>[e*r[0],e*r[1],e*r[2],e*r[3]]};nK.encode=function(e,r,n,i,a,s,o){null==i&&(i=0),null==o&&(o=!1);let l=h(e,r,n,i,[!1,!1,!1,0,o,!1]);return d(l,-1),c(l,r,n,a,s)},nK.encodeLL=function(e,r,n,i,a,s,o,l){let h={ctype:0+2*(1!=i)+4*(0!=a),depth:s,frames:[]},u=(i+a)*s,f=u*r;for(let i=0;i<e.length;i++)h.frames.push({rect:{x:0,y:0,width:r,height:n},img:new Uint8Array(e[i]),blend:0,dispose:1,bpp:Math.ceil(u/8),bpl:Math.ceil(f/8)});return d(h,0,!0),c(h,r,n,o,l)},nK.encode.compress=h,nK.encode.dither=l,nK.quantize=p,nK.quantize.getKDtree=g,nK.quantize.getNearest=m}();let nX={toArrayBuffer(e,r){let n=e.width,i=e.height,a=n<<2,s=new Uint32Array(e.getContext("2d").getImageData(0,0,n,i).data.buffer),o=(32*n+31)/32<<2,l=o*i,c=122+l,d=new ArrayBuffer(c),h=new DataView(d),u,f,p,g,m=1048576,b=0,y=0,w=0;function x(e){h.setUint16(y,e,!0),y+=2}function v(e){h.setUint32(y,e,!0),y+=4}x(19778),v(c),y+=4,v(122),v(108),v(n),v(-i>>>0),x(1),x(32),v(3),v(l),v(2835),v(2835),y+=8,v(0xff0000),v(65280),v(255),v(0xff000000),v(0x57696e20),function e(){for(;b<i&&m>0;){for(g=122+b*o,u=0;u<a;)m--,p=(f=s[w++])>>>24,h.setUint32(g+u,f<<8|p),u+=4;b++}w<s.length?(m=1048576,setTimeout(e,nX._dly)):r(d)}()},toBlob(e,r){this.toArrayBuffer(e,e=>{r(new Blob([e],{type:"image/bmp"}))})},_dly:9};var nJ={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},nZ={[nJ.CHROME]:16384,[nJ.FIREFOX]:11180,[nJ.DESKTOP_SAFARI]:16384,[nJ.IE]:8192,[nJ.IOS]:4096,[nJ.ETC]:8192};let nY="u">typeof window,n0="u">typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,n1=nY&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),n2=(nY||n0)&&(n1&&n1.getOriginalSymbol(window,"File")||"u">typeof File&&File),n3=(nY||n0)&&(n1&&n1.getOriginalSymbol(window,"FileReader")||"u">typeof FileReader&&FileReader);function n5(e,r,n=Date.now()){return new Promise(i=>{let a=e.split(","),s=a[0].match(/:(.*?);/)[1],o=globalThis.atob(a[1]),l=o.length,c=new Uint8Array(l);for(;l--;)c[l]=o.charCodeAt(l);let d=new Blob([c],{type:s});d.name=r,d.lastModified=n,i(d)})}function n4(e){return new Promise((r,n)=>{let i=new n3;i.onload=()=>r(i.result),i.onerror=e=>n(e),i.readAsDataURL(e)})}function n6(e){return new Promise((r,n)=>{let i=new Image;i.onload=()=>r(i),i.onerror=e=>n(e),i.src=e})}function n8(){if(void 0!==n8.cachedResult)return n8.cachedResult;let e=nJ.ETC,{userAgent:r}=navigator;return/Chrom(e|ium)/i.test(r)?e=nJ.CHROME:/iP(ad|od|hone)/i.test(r)&&/WebKit/i.test(r)?e=nJ.IOS:/Safari/i.test(r)?e=nJ.DESKTOP_SAFARI:/Firefox/i.test(r)?e=nJ.FIREFOX:(/MSIE/i.test(r)||!0==!!document.documentMode)&&(e=nJ.IE),n8.cachedResult=e,n8.cachedResult}function n7(e,r){let n=nZ[n8()],i=e,a=r,s=i*a,o=i>a?a/i:i/a;for(;s>n*n;){let e=(n+i)/2,r=(n+a)/2;e<r?(a=r,i=r*o):(a=e*o,i=e),s=i*a}return{width:i,height:a}}function n9(e,r){let n,i;try{if(i=(n=new OffscreenCanvas(e,r)).getContext("2d"),null===i)throw Error("getContext of OffscreenCanvas returns null")}catch(e){i=(n=document.createElement("canvas")).getContext("2d")}return n.width=e,n.height=r,[n,i]}function ie(e,r){let{width:n,height:i}=n7(e.width,e.height),[a,s]=n9(n,i);return r&&/jpe?g/.test(r)&&(s.fillStyle="white",s.fillRect(0,0,a.width,a.height)),s.drawImage(e,0,0,a.width,a.height),a}function it(){return void 0!==it.cachedResult||(it.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"u">typeof document&&"ontouchend"in document),it.cachedResult}function ir(e,r={}){return new Promise(function(n,i){let a,s;var o=function(){try{return s=ie(a,r.fileType||e.type),n([a,s])}catch(e){return i(e)}},l=function(r){try{var n=function(e){try{throw e}catch(e){return i(e)}};try{let r;return n4(e).then(function(e){try{return r=e,n6(r).then(function(e){try{return a=e,function(){try{return o()}catch(e){return i(e)}}()}catch(e){return n(e)}},n)}catch(e){return n(e)}},n)}catch(e){n(e)}}catch(e){return i(e)}};try{if(it()||[nJ.DESKTOP_SAFARI,nJ.MOBILE_SAFARI].includes(n8()))throw Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(e){try{return a=e,o()}catch(e){return l()}},l)}catch(e){l()}})}function ii(e,r,n,i,a=1){return new Promise(function(s,o){let l;if("image/png"===r){let s,o;return s=e.getContext("2d"),{data:o}=s.getImageData(0,0,e.width,e.height),(l=new Blob([nK.encode([o.buffer],e.width,e.height,4096*a)],{type:r})).name=n,l.lastModified=i,h.call(this)}if("image/bmp"===r)return new Promise(r=>nX.toBlob(e,r)).then((function(e){try{return(l=e).name=n,l.lastModified=i,d.call(this)}catch(e){return o(e)}}).bind(this),o);if("function"==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)return e.convertToBlob({type:r,quality:a}).then((function(e){try{return(l=e).name=n,l.lastModified=i,c.call(this)}catch(e){return o(e)}}).bind(this),o);return n5(e.toDataURL(r,a),n,i).then((function(e){try{return l=e,c.call(this)}catch(e){return o(e)}}).bind(this),o);function c(){return d.call(this)}function d(){return h.call(this)}function h(){return s(l)}})}function ia(e){e.width=0,e.height=0}function is(){return new Promise(function(e,r){let n,i,a,s;return void 0!==is.cachedResult?e(is.cachedResult):n5("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,ir(n).then(function(o){try{return i=o[1],ii(i,n.type,n.name,n.lastModified).then(function(n){try{return a=n,ia(i),ir(a).then(function(n){try{return s=n[0],is.cachedResult=1===s.width&&2===s.height,e(is.cachedResult)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)}catch(e){return r(e)}},r)})}function io(e){return new Promise((r,n)=>{let i=new n3;i.onload=e=>{let n=new DataView(e.target.result);if(65496!=n.getUint16(0,!1))return r(-2);let i=n.byteLength,a=2;for(;a<i&&!(8>=n.getUint16(a+2,!1));){let e=n.getUint16(a,!1);if(a+=2,65505==e){if(0x45786966!=n.getUint32(a+=2,!1))return r(-1);let e=18761==n.getUint16(a+=6,!1);a+=n.getUint32(a+4,e);let i=n.getUint16(a,e);a+=2;for(let s=0;s<i;s++)if(274==n.getUint16(a+12*s,e))return r(n.getUint16(a+12*s+8,e))}else{if(65280!=(65280&e))break;a+=n.getUint16(a,!1)}}return r(-1)},i.onerror=e=>n(e),i.readAsArrayBuffer(e)})}function il(e,r){let{width:n}=e,{height:i}=e,{maxWidthOrHeight:a}=r,s,o=e;return isFinite(a)&&(n>a||i>a)&&([o,s]=n9(n,i),n>i?(o.width=a,o.height=i/n*a):(o.width=n/i*a,o.height=a),s.drawImage(e,0,0,o.width,o.height),ia(e)),o}function ic(e,r){let{width:n}=e,{height:i}=e,[a,s]=n9(n,i);switch(r>4&&r<9?(a.width=i,a.height=n):(a.width=n,a.height=i),r){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,i);break;case 4:s.transform(1,0,0,-1,0,i);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,i,0);break;case 7:s.transform(0,-1,-1,0,i,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(e,0,0,n,i),ia(e),a}function id(e,r,n=0){return new Promise(function(i,a){let s,o,l,c,d,h,u,f,p,g,m,b,y,w,x,v,_,A,C,E;function N(e=5){if(r.signal&&r.signal.aborted)throw r.signal.reason;s+=e,r.onProgress(Math.min(s,100))}function k(e){if(r.signal&&r.signal.aborted)throw r.signal.reason;s=Math.min(Math.max(e,s),100),r.onProgress(s)}return s=n,o=r.maxIteration||10,l=1024*r.maxSizeMB*1024,N(),ir(e,r).then((function(n){try{return[,c]=n,N(),d=il(c,r),N(),new Promise(function(n,i){var a;if(!(a=r.exifOrientation))return io(e).then((function(e){try{return a=e,s.call(this)}catch(e){return i(e)}}).bind(this),i);function s(){return n(a)}return s.call(this)}).then((function(n){try{return h=n,N(),is().then((function(n){try{return u=n?d:ic(d,h),N(),f=r.initialQuality||1,p=r.fileType||e.type,ii(u,p,e.name,e.lastModified,f).then((function(n){try{var s;if(g=n,N(),m=g.size>l,b=g.size>e.size,!m&&!b)return k(100),i(g);function h(){if(o--&&(x>l||x>y)){let r,n;return r=E?.95*C.width:C.width,n=E?.95*C.height:C.height,[_,A]=n9(r,n),A.drawImage(C,0,0,r,n),f*="image/png"===p?.85:.95,ii(_,p,e.name,e.lastModified,f).then(function(e){try{return v=e,ia(C),C=_,x=v.size,k(Math.min(99,Math.floor((w-x)/(w-l)*100))),h}catch(e){return a(e)}},a)}return[1]}return y=e.size,x=w=g.size,C=u,E=!r.alwaysKeepResolution&&m,(s=(function(e){for(;e;){if(e.then)return void e.then(s,a);try{if(e.pop){if(e.length)return e.pop()?I.call(this):e;e=h}else e=e.call(this)}catch(e){return a(e)}}}).bind(this))(h);function I(){return ia(C),ia(_),ia(d),ia(u),ia(c),k(100),i(v)}}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)}catch(e){return a(e)}}).bind(this),a)})}function ih(e,r){return new Promise(function(n,i){let a,s,o,c,d,h;if(a={...r},o=0,{onProgress:c}=a,a.maxSizeMB=a.maxSizeMB||1/0,d="boolean"!=typeof a.useWebWorker||a.useWebWorker,delete a.useWebWorker,a.onProgress=e=>{o=e,"function"==typeof c&&c(o)},!(e instanceof Blob||e instanceof n2))return i(Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return i(Error("The file given is not an image"));if(h="u">typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,!d||"function"!=typeof Worker||h)return id(e,a).then((function(e){try{return s=e,p.call(this)}catch(e){return i(e)}}).bind(this),i);var u=(function(){try{return p.call(this)}catch(e){return i(e)}}).bind(this),f=function(r){try{return id(e,a).then(function(e){try{return s=e,u()}catch(e){return i(e)}},i)}catch(e){return i(e)}};try{return a.libURL=a.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",new Promise((r,n)=>{var i;let s;l||(s=[],"function"==typeof(i="\nlet scriptImported = false\nself.addEventListener('message', async (e) => {\n  const { file, id, imageCompressionLibUrl, options } = e.data\n  options.onProgress = (progress) => self.postMessage({ progress, id })\n  try {\n    if (!scriptImported) {\n      // console.log('[worker] importScripts', imageCompressionLibUrl)\n      self.importScripts(imageCompressionLibUrl)\n      scriptImported = true\n    }\n    // console.log('[worker] self', self)\n    const compressedFile = await imageCompression(file, options)\n    self.postMessage({ file: compressedFile, id })\n  } catch (e) {\n    // console.error('[worker] error', e)\n    self.postMessage({ error: e.message + '\\n' + e.stack, id })\n  }\n})\n")?s.push(`(${i})()`):s.push(i),l=URL.createObjectURL(new Blob(s)));let o=new Worker(l);o.addEventListener("message",function(e){if(a.signal&&a.signal.aborted)o.terminate();else if(void 0===e.data.progress){if(e.data.error)return n(Error(e.data.error)),void o.terminate();r(e.data.file),o.terminate()}else a.onProgress(e.data.progress)}),o.addEventListener("error",n),a.signal&&a.signal.addEventListener("abort",()=>{n(a.signal.reason),o.terminate()}),o.postMessage({file:e,imageCompressionLibUrl:a.libURL,options:{...a,onProgress:void 0,signal:void 0}})}).then(function(e){try{return s=e,u()}catch(e){return f()}},f)}catch(e){f()}function p(){try{s.name=e.name,s.lastModified=e.lastModified}catch(e){}try{a.preserveExif&&"image/jpeg"===e.type&&(!a.fileType||a.fileType&&a.fileType===e.type)&&(s=nq(e,s))}catch(e){}return n(s)}})}ih.getDataUrlFromFile=n4,ih.getFilefromDataUrl=n5,ih.loadImage=n6,ih.drawImageInCanvas=ie,ih.drawFileInCanvas=ir,ih.canvasToFile=ii,ih.getExifOrientation=io,ih.handleMaxWidthOrHeight=il,ih.followExifOrientation=ic,ih.cleanupCanvasMemory=ia,ih.isAutoOrientationInBrowser=is,ih.approximateBelowMaximumCanvasSizeOfBrowser=n7,ih.copyExifWithoutOrientation=nq,ih.getBrowserName=n8,ih.version="2.0.2";var iu=e.i(75996),ip=e.i(34044);let ig=()=>{let[e,r]=(0,I.useState)([]),[n,i]=(0,I.useState)(!1),[a,s]=(0,I.useState)(null),[o,l]=(0,I.useState)({name:"",subcategories:""});(0,I.useEffect)(()=>{c()},[]);let c=async()=>{try{let e=await fetch("/api/categories");if(e.ok){let n=await e.json();r(n)}}catch(e){console.error("Error fetching categories:",e)}},d=(e=null)=>{e?(s(e),l({name:e.name,subcategories:e.subcategories.join(", ")})):(s(null),l({name:"",subcategories:""})),i(!0)},h=async e=>{e.preventDefault();let r=o.subcategories.split(",").map(e=>e.trim()).filter(e=>""!==e);try{let e=a?"PUT":"POST",n=a?`/api/categories/${a._id}`:"/api/categories";(await fetch(n,{method:e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({name:o.name,subcategories:r})})).ok?(c(),i(!1)):alert("Failed to save category")}catch(e){console.error("Error saving category:",e)}},u=async e=>{if(window.confirm("Are you sure? This might affect menu items using this category."))try{(await fetch(`/api/categories/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok&&c()}catch(e){console.error("Error deleting category:",e)}};return(0,k.jsxs)("div",{className:"p-6 space-y-6",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center",children:[(0,k.jsx)("h2",{className:"text-2xl font-bold text-zinc-900 uppercase tracking-wider",children:"Category Management"}),(0,k.jsxs)("button",{onClick:()=>d(),className:"bg-primary text-black px-4 py-2 rounded-lg font-bold flex items-center gap-2 hover:bg-zinc-800 hover:text-white transition-colors",children:[(0,k.jsx)(O,{size:18})," Add Category"]})]}),(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,k.jsxs)("div",{className:"bg-white p-6 rounded-xl border border-zinc-200 shadow-sm hover:shadow-md transition-shadow",children:[(0,k.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,k.jsx)("h3",{className:"font-bold text-lg text-zinc-900",children:e.name}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)("button",{onClick:()=>d(e),className:"p-1 text-zinc-400 hover:text-primary transition-colors",children:(0,k.jsx)(F,{size:16})}),(0,k.jsx)("button",{onClick:()=>u(e._id),className:"p-1 text-zinc-400 hover:text-red-500 transition-colors",children:(0,k.jsx)(D,{size:16})})]})]}),(0,k.jsxs)("div",{className:"flex flex-wrap gap-2",children:[e.subcategories&&e.subcategories.map((e,r)=>(0,k.jsx)("span",{className:"text-xs bg-zinc-100 text-zinc-600 px-2 py-1 rounded-full",children:e},r)),(!e.subcategories||0===e.subcategories.length)&&(0,k.jsx)("span",{className:"text-xs text-zinc-400 italic",children:"No subcategories"})]})]},e._id))}),(0,k.jsx)(j.AnimatePresence,{children:n&&(0,k.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,k.jsxs)(S.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white border border-zinc-200 rounded-2xl w-full max-w-lg overflow-hidden shadow-2xl",children:[(0,k.jsxs)("div",{className:"p-6 border-b border-zinc-200 flex justify-between items-center bg-gray-50",children:[(0,k.jsx)("h3",{className:"font-bold text-zinc-900 text-lg",children:a?"Edit Category":"Add Category"}),(0,k.jsx)("button",{onClick:()=>i(!1),className:"text-zinc-400 hover:text-zinc-900",children:(0,k.jsx)(B.X,{size:20})})]}),(0,k.jsxs)("form",{onSubmit:h,className:"p-6 space-y-4",children:[(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Category Name"}),(0,k.jsx)("input",{type:"text",required:!0,value:o.name,onChange:e=>l({...o,name:e.target.value}),className:"w-full bg-white border border-zinc-300 rounded-lg px-3 py-2 text-zinc-900 outline-none focus:border-primary focus:ring-1"})]}),(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Subcategories (comma separated)"}),(0,k.jsx)("input",{type:"text",value:o.subcategories,onChange:e=>l({...o,subcategories:e.target.value}),placeholder:"e.g. Veg, Non-Veg, Chicken, Prawns",className:"w-full bg-white border border-zinc-300 rounded-lg px-3 py-2 text-zinc-900 outline-none focus:border-primary focus:ring-1"})]}),(0,k.jsxs)("div",{className:"pt-4 flex gap-3",children:[(0,k.jsx)("button",{type:"button",onClick:()=>i(!1),className:"flex-1 py-3 bg-gray-100 hover:bg-gray-200 text-zinc-900 rounded-lg font-bold",children:"Cancel"}),(0,k.jsx)("button",{type:"submit",className:"flex-1 py-3 bg-primary hover:bg-primary/90 text-black rounded-lg font-bold",children:"Save"})]})]})]})})})]})},im=({items:e,categories:r,onRefresh:n})=>{let[i,a]=(0,I.useState)([]),[s,o]=(0,I.useState)(!1),[l,c]=(0,I.useState)(""),[d,h]=(0,I.useState)({open:!1,itemId:null,currentUrl:""}),[u,f]=(0,I.useState)(!1),[p,g]=(0,I.useState)(0);(0,I.useEffect)(()=>{a(e.map(e=>({...e})))},[e]);let m=(e,n,i)=>{a(a=>a.map(a=>{if(a.id===e){let e={...a,[n]:i};if("category"===n){let n=r.find(e=>e.name===i);n?.subcategories?.includes(a.subcategory)||(e.subcategory="")}return e}return a}))},b=(e,r)=>{m(e,"image",r),h({open:!1,itemId:null,currentUrl:""})},y=async e=>{let r=e.target.files[0];if(r&&d.itemId){f(!0),g(0);try{let e=await ih(r,{maxSizeMB:.2,maxWidthOrHeight:1200,useWebWorker:!0,fileType:"image/webp"}),n=rB(nV,`menu-items/${r.name.split(".")[0]}-${Date.now()}.webp`),i=rF(n,e,{cacheControl:"public,max-age=31536000"});i.on("state_changed",e=>{g(e.bytesTransferred/e.totalBytes*100)},e=>{console.error("Upload failed",e),f(!1)},()=>{rP(i.snapshot.ref).then(e=>{b(d.itemId,e),f(!1)})})}catch(e){console.error("Compression failed",e),f(!1)}}},w=async()=>{o(!0);try{let r=i.filter(r=>{let n=e.find(e=>e.id===r.id);return JSON.stringify(r)!==JSON.stringify(n)}).map(e=>({id:e.id,updates:{name:e.name,price:e.price,description:e.description,category:e.category,subcategory:e.subcategory,dietary:e.dietary,image:e.image}}));if(0===r.length){alert("No changes to save."),o(!1);return}let a=await fetch("/api/menu/batch",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({updates:r})});if(a.ok)alert("Bulk update successful!"),n();else{let e=await a.json();alert(`Error: ${e.message||"Failed to save updates"}`)}}catch(e){console.error("Bulk save error:",e),alert("An error occurred during save.")}finally{o(!1)}},x=i.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.category.toLowerCase().includes(l.toLowerCase()));return(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsxs)("div",{className:"flex justify-between items-center bg-white p-4 rounded-xl border border-zinc-200 shadow-sm",children:[(0,k.jsxs)("div",{className:"relative w-72",children:[(0,k.jsx)(P.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400",size:18}),(0,k.jsx)("input",{type:"text",placeholder:"Search items...",value:l,onChange:e=>c(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-zinc-50 border border-zinc-200 rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all"})]}),(0,k.jsxs)("div",{className:"flex gap-3",children:[(0,k.jsxs)("span",{className:"text-sm text-zinc-500 self-center",children:[i.filter(r=>{let n=e.find(e=>e.id===r.id);return JSON.stringify(r)!==JSON.stringify(n)}).length," changes pending"]}),(0,k.jsxs)("button",{onClick:w,disabled:s,className:"bg-zinc-900 text-white px-6 py-2 rounded-lg font-bold hover:bg-zinc-800 disabled:opacity-50 transition-all flex items-center gap-2",children:[s?(0,k.jsx)("div",{className:"w-4 h-4 border-2 border-white/20 border-t-white rounded-full animate-spin"}):(0,k.jsx)(Q,{size:18}),"Save All Changes"]})]})]}),(0,k.jsx)("div",{className:"bg-white border border-zinc-200 rounded-xl shadow-sm overflow-hidden",children:(0,k.jsx)("div",{className:"overflow-x-auto",children:(0,k.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{className:"bg-zinc-50 border-b border-zinc-200",children:[(0,k.jsx)("th",{className:"px-4 py-3 text-xs font-bold text-zinc-500 uppercase tracking-wider w-16 text-center",children:"Image"}),(0,k.jsx)("th",{className:"px-4 py-3 text-xs font-bold text-zinc-500 uppercase tracking-wider min-w-[200px]",children:"Item Details"}),(0,k.jsx)("th",{className:"px-4 py-3 text-xs font-bold text-zinc-500 uppercase tracking-wider w-32",children:"Category"}),(0,k.jsx)("th",{className:"px-4 py-3 text-xs font-bold text-zinc-500 uppercase tracking-wider w-32",children:"Subcategory"}),(0,k.jsx)("th",{className:"px-4 py-3 text-xs font-bold text-zinc-500 uppercase tracking-wider w-24",children:"Price"}),(0,k.jsx)("th",{className:"px-4 py-3 text-xs font-bold text-zinc-500 uppercase tracking-wider w-28",children:"Dietary"})]})}),(0,k.jsx)("tbody",{className:"divide-y divide-zinc-100",children:x.map(e=>{let n=r.find(r=>r.name===e.category);return(0,k.jsxs)("tr",{className:"hover:bg-zinc-50/50 transition-colors",children:[(0,k.jsx)("td",{className:"px-4 py-3 text-center",children:(0,k.jsxs)("button",{onClick:()=>h({open:!0,itemId:e.id,currentUrl:e.image}),className:"w-12 h-12 rounded-lg overflow-hidden border-2 border-zinc-100 relative group active:scale-95 transition-all shadow-sm",children:[(0,k.jsx)("img",{src:e.image||"/logo.png",className:"w-full h-full object-cover"}),(0,k.jsx)("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:(0,k.jsx)(F,{size:12,className:"text-white"})})]})}),(0,k.jsxs)("td",{className:"px-4 py-3 space-y-2",children:[(0,k.jsx)("input",{type:"text",value:e.name,onChange:r=>m(e.id,"name",r.target.value),className:"w-full bg-transparent border-b border-transparent hover:border-zinc-200 focus:border-primary outline-none font-bold text-zinc-900 transition-all text-sm"}),(0,k.jsx)("textarea",{value:e.description,onChange:r=>m(e.id,"description",r.target.value),placeholder:"Description...",className:"w-full bg-zinc-50/50 border border-transparent hover:border-zinc-200 focus:border-primary focus:bg-white outline-none text-[11px] text-zinc-500 resize-none h-6 focus:h-24 transition-all rounded px-2 py-1 leading-normal"})]}),(0,k.jsx)("td",{className:"px-4 py-3",children:(0,k.jsx)("select",{value:e.category,onChange:r=>m(e.id,"category",r.target.value),className:"w-full bg-zinc-50 border border-zinc-200 rounded px-2 py-1 text-xs outline-none focus:ring-1 focus:ring-primary/30",children:r.map(e=>(0,k.jsx)("option",{value:e.name,children:e.name},e._id))})}),(0,k.jsx)("td",{className:"px-4 py-3",children:(0,k.jsxs)("select",{value:e.subcategory||"",onChange:r=>m(e.id,"subcategory",r.target.value),className:"w-full bg-zinc-50 border border-zinc-200 rounded px-2 py-1 text-xs outline-none focus:ring-1 focus:ring-primary/30",children:[(0,k.jsx)("option",{value:"",children:"None"}),n?.subcategories?.map(e=>(0,k.jsx)("option",{value:e,children:e},e))]})}),(0,k.jsx)("td",{className:"px-4 py-3",children:(0,k.jsx)("input",{type:"text",value:e.price,onChange:r=>m(e.id,"price",r.target.value),className:"w-full bg-zinc-50 border border-zinc-200 rounded px-2 py-1 text-xs outline-none focus:ring-1 focus:ring-primary/30 font-bold text-primary"})}),(0,k.jsx)("td",{className:"px-4 py-3",children:(0,k.jsx)("div",{className:"flex bg-zinc-50 border border-zinc-200 rounded p-0.5 overflow-hidden",children:["Veg","Non-Veg","Vegan"].map(r=>(0,k.jsx)("button",{onClick:()=>m(e.id,"dietary",r),className:`flex-1 text-[9px] py-1 px-1 font-bold rounded transition-all ${e.dietary===r?"Non-Veg"===r?"bg-red-500 text-white":"bg-green-600 text-white":"text-zinc-400 hover:bg-zinc-100"}`,children:"Non-Veg"===r?"NV":"Vegan"===r?"VN":"V"},r))})})]},e.id)})})]})})}),(0,k.jsx)(j.AnimatePresence,{children:d.open&&(0,k.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/60 backdrop-blur-md",children:(0,k.jsxs)(S.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl w-full max-w-lg overflow-hidden shadow-2xl border border-zinc-200",children:[(0,k.jsxs)("div",{className:"p-4 border-b border-zinc-100 flex justify-between items-center",children:[(0,k.jsx)("h3",{className:"font-bold text-zinc-900",children:"Edit Dish Image"}),(0,k.jsx)("button",{onClick:()=>h({open:!1,itemId:null,currentUrl:""}),className:"text-zinc-400 hover:text-zinc-900",children:(0,k.jsx)(B.X,{size:20})})]}),(0,k.jsx)("div",{className:"p-6",children:(0,k.jsxs)("div",{className:"space-y-6",children:[(0,k.jsxs)("div",{className:"aspect-video rounded-xl overflow-hidden border-4 border-zinc-100 shadow-inner bg-zinc-50 relative",children:[(0,k.jsx)("img",{src:d.currentUrl||"/logo.png",className:"w-full h-full object-cover"}),u&&(0,k.jsxs)("div",{className:"absolute inset-0 bg-black/40 flex flex-col items-center justify-center gap-3",children:[(0,k.jsx)("div",{className:"w-12 h-12 border-4 border-white/20 border-t-white rounded-full animate-spin"}),(0,k.jsxs)("span",{className:"text-white font-bold text-sm",children:[Math.round(p),"%"]})]})]}),(0,k.jsxs)("div",{className:"space-y-4",children:[(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-[10px] font-bold text-zinc-400 uppercase tracking-widest",children:"Image URL"}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)("input",{type:"text",value:d.currentUrl,onChange:e=>h(r=>({...r,currentUrl:e.target.value})),className:"flex-1 bg-zinc-50 border border-zinc-200 rounded-lg px-4 py-2 text-sm outline-none focus:ring-2 focus:ring-primary/20",placeholder:"Enter URL here..."}),(0,k.jsx)("button",{onClick:()=>b(d.itemId,d.currentUrl),className:"bg-zinc-900 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-zinc-800",children:"Apply"})]})]}),(0,k.jsxs)("label",{className:`flex flex-col items-center justify-center w-full h-24 border-2 border-dashed border-zinc-200 rounded-xl hover:bg-zinc-50 transition-colors cursor-pointer ${u?"opacity-50 cursor-not-allowed":""}`,children:[(0,k.jsxs)("div",{className:"flex flex-col items-center justify-center pt-1",children:[(0,k.jsx)(q,{className:"text-zinc-400 mb-1",size:24}),(0,k.jsx)("p",{className:"text-sm font-bold text-zinc-600",children:"Click to upload photo"})]}),(0,k.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:y,disabled:u})]})]})]})})]})})})]})},ib=()=>{let[e,r]=(0,I.useState)("items"),[n,i]=(0,I.useState)([]),[a,s]=(0,I.useState)([]),[o,l]=(0,I.useState)("all"),[c,d]=(0,I.useState)(!1),[h,u]=(0,I.useState)(!1),[f,p]=(0,I.useState)(null),[g,m]=(0,I.useState)(new Set),[b,y]=(0,I.useState)({name:"",price:"",description:"",category:"",subcategory:"",image:"",dietary:"Veg"}),[w,x]=(0,I.useState)({category:"",subcategory:"",price:""}),[v,_]=(0,I.useState)(!1),[A,C]=(0,I.useState)(!1),[E,N]=(0,I.useState)(0);(0,I.useEffect)(()=>{T(),R()},[]);let T=async()=>{try{let e=await fetch("/api/menu");e.ok&&i(await e.json())}catch(e){console.error("Error fetching menu:",e)}},R=async()=>{try{let e=await fetch("/api/categories");e.ok&&s(await e.json())}catch(e){console.error("Error fetching categories:",e)}},z=(e=null)=>{_(!1),N(0),e?(p(e),y(e)):(p(null),y({name:"",price:"",description:"",category:a[0]?.name||"",subcategory:"",image:"",dietary:"Veg"})),d(!0)},M=async e=>{let r=e.target.files[0];if(r){_(!0),N(0);try{let e=await ih(r,{maxSizeMB:.2,maxWidthOrHeight:1200,useWebWorker:!0,fileType:"image/webp"}),n=rB(nV,`menu-items/${r.name.split(".")[0]}-${Date.now()}.webp`),i=rF(n,e,{cacheControl:"public,max-age=31536000"});i.on("state_changed",e=>{N(e.bytesTransferred/e.totalBytes*100)},e=>{console.error("Upload failed",e),_(!1)},()=>{rP(i.snapshot.ref).then(e=>{y(r=>({...r,image:e})),_(!1)})})}catch(e){console.error("Compression failed",e),_(!1)}}},U=async e=>{e.preventDefault();try{let e=f?"PUT":"POST",r=f?`/api/menu/${f.id}`:"/api/menu";(await fetch(r,{method:e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(b)})).ok?(T(),d(!1)):alert("Failed to save item")}catch(e){console.error("Error saving item:",e)}},P=async e=>{if(window.confirm("Are you sure you want to delete this item?"))try{(await fetch(`/api/menu/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok&&T()}catch(e){console.error(e)}},$=async()=>{if(window.confirm(`Delete ${g.size} items?`)){for(let e of g)await fetch(`/api/menu/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});T(),m(new Set)}},H=async e=>{e.preventDefault();let r={};w.category&&(r.category=w.category),w.subcategory&&(r.subcategory=w.subcategory),w.price&&(r.price=w.price);try{(await fetch("/api/menu/bulk",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({ids:Array.from(g),updates:r})})).ok&&(T(),u(!1),m(new Set),alert("Bulk update successful!"))}catch(e){console.error(e)}},V=a.find(e=>e.name===b.category),q=a.find(e=>e.name===w.category);return(0,k.jsxs)("div",{className:"p-6 space-y-6 relative",children:[(0,k.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,k.jsx)("h2",{className:"text-2xl font-bold text-zinc-900 uppercase tracking-wider",children:"Menu Management"}),(0,k.jsxs)("div",{className:"bg-zinc-100 p-1 rounded-lg flex gap-1",children:[(0,k.jsx)("button",{onClick:()=>r("items"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${"items"===e?"bg-white shadow text-black":"text-zinc-500 hover:text-zinc-900"}`,children:"Menu Items"}),(0,k.jsx)("button",{onClick:()=>r("bulk"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${"bulk"===e?"bg-white shadow text-black":"text-zinc-500 hover:text-zinc-900"}`,children:"Bulk Edit"}),(0,k.jsx)("button",{onClick:()=>r("categories"),className:`px-4 py-2 rounded-md text-sm font-bold transition-all ${"categories"===e?"bg-white shadow text-black":"text-zinc-500 hover:text-zinc-900"}`,children:"Categories"})]}),"items"===e&&(0,k.jsxs)("button",{onClick:()=>z(),className:"bg-primary text-black px-4 py-2 rounded-lg font-bold flex items-center gap-2 hover:bg-zinc-800 hover:text-white transition-colors",children:[(0,k.jsx)(O,{size:18})," Add"]})]}),"categories"===e?(0,k.jsx)(ig,{}):"bulk"===e?(0,k.jsx)(im,{items:n,categories:a,onRefresh:T}):(0,k.jsxs)(k.Fragment,{children:[g.size>0&&(0,k.jsxs)("div",{className:"bg-zinc-900 text-white p-4 rounded-xl flex items-center justify-between shadow-lg",children:[(0,k.jsxs)("span",{className:"font-bold ml-2",children:[g.size," items selected"]}),(0,k.jsxs)("div",{className:"flex gap-2",children:[(0,k.jsx)("button",{onClick:()=>u(!0),className:"bg-primary text-black px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-white transition-colors",children:"Bulk Update"}),(0,k.jsx)("button",{onClick:$,className:"bg-red-500 text-white px-3 py-1.5 rounded-lg text-sm font-bold hover:bg-red-600 transition-colors",children:"Delete Selected"}),(0,k.jsx)("button",{onClick:()=>m(new Set),className:"text-zinc-400 hover:text-white px-3 py-1.5 text-sm",children:"Cancel"})]})]}),(0,k.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-4 custom-scrollbar",children:[(0,k.jsx)("button",{onClick:()=>l("all"),className:`px-4 py-2 rounded-full text-sm whitespace-nowrap transition-colors ${"all"===o?"bg-zinc-900 text-white font-bold":"bg-white border border-zinc-200 text-zinc-600 hover:bg-zinc-100"}`,children:"All Items"}),a.map(e=>(0,k.jsx)("button",{onClick:()=>l(e.name),className:`px-4 py-2 rounded-full text-sm whitespace-nowrap transition-colors ${o===e.name?"bg-zinc-900 text-white font-bold":"bg-white border border-zinc-200 text-zinc-600 hover:bg-zinc-100"}`,children:e.name},e._id))]}),(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.filter(e=>"all"===o||e.category===o).map(e=>(0,k.jsxs)(S.motion.div,{layout:!0,onClick:()=>{var r;let n;return r=e.id,void((n=new Set(g)).has(r)?n.delete(r):n.add(r),m(n))},className:`bg-white border rounded-xl overflow-hidden group shadow-sm hover:shadow-md transition-all cursor-pointer relative ${g.has(e.id)?"border-primary ring-2 ring-primary ring-opacity-50":"border-zinc-200 hover:border-primary/50"}`,children:[(0,k.jsx)("div",{className:`absolute top-2 left-2 z-10 w-5 h-5 rounded border flex items-center justify-center transition-colors ${g.has(e.id)?"bg-primary border-primary":"bg-white/80 border-gray-300"}`,children:g.has(e.id)&&(0,k.jsx)(L,{size:14,className:"text-black"})}),(0,k.jsxs)("div",{className:"h-48 overflow-hidden relative",children:[(0,k.jsx)("img",{src:e.image||"/logo.png",alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),(0,k.jsxs)("div",{className:"absolute top-2 right-2 flex gap-2 translate-y-[-100%] opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-300",onClick:e=>e.stopPropagation(),children:[(0,k.jsx)("button",{onClick:()=>z(e),className:"p-2 bg-white/90 backdrop-blur-md rounded-full text-zinc-900 hover:bg-primary hover:text-black transition-colors shadow-sm",children:(0,k.jsx)(F,{size:14})}),(0,k.jsx)("button",{onClick:()=>P(e.id),className:"p-2 bg-red-50/90 backdrop-blur-md rounded-full text-red-500 hover:bg-red-500 hover:text-white transition-colors shadow-sm",children:(0,k.jsx)(D,{size:14})})]})]}),(0,k.jsxs)("div",{className:"p-4 space-y-1",children:[(0,k.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,k.jsx)("h3",{className:"font-bold text-lg text-zinc-900 leading-tight",children:e.name}),(0,k.jsx)("span",{className:"bg-primary/20 text-black text-xs font-bold px-2 py-1 rounded whitespace-nowrap",children:e.price})]}),(0,k.jsxs)("div",{className:"flex gap-2 text-[10px] uppercase font-bold tracking-wider text-zinc-400",children:[(0,k.jsx)("span",{children:e.category}),e.subcategory&&(0,k.jsxs)("span",{children:[" ",e.subcategory]})]}),(0,k.jsx)("p",{className:"text-zinc-500 text-sm line-clamp-2",children:e.description})]})]},e.id))})]}),(0,k.jsx)(j.AnimatePresence,{children:c&&(0,k.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,k.jsxs)(S.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white border border-zinc-200 rounded-2xl w-full max-w-lg shadow-2xl overflow-y-auto max-h-[90vh]",children:[(0,k.jsxs)("div",{className:"p-6 border-b border-zinc-200 flex justify-between items-center bg-gray-50",children:[(0,k.jsx)("h3",{className:"font-bold text-zinc-900 text-lg",children:f?"Edit Item":"Add New Item"}),(0,k.jsx)("button",{onClick:()=>d(!1),children:(0,k.jsx)(B.X,{size:20})})]}),(0,k.jsxs)("form",{onSubmit:U,className:"p-6 space-y-4",children:[(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Category"}),(0,k.jsxs)("select",{required:!0,value:b.category,onChange:e=>y({...b,category:e.target.value,subcategory:""}),className:"w-full bg-white border border-zinc-300 rounded-lg px-3 py-2",children:[(0,k.jsx)("option",{value:"",children:"Select Category"}),a.map(e=>(0,k.jsx)("option",{value:e.name,children:e.name},e._id))]})]}),(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Sub Category"}),(0,k.jsxs)("select",{value:b.subcategory,onChange:e=>y({...b,subcategory:e.target.value}),className:"w-full bg-white border border-zinc-300 rounded-lg px-3 py-2",children:[(0,k.jsx)("option",{value:"",children:"None"}),V?.subcategories?.map(e=>(0,k.jsx)("option",{value:e,children:e},e))]})]})]}),(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Name"}),(0,k.jsx)("input",{type:"text",required:!0,value:b.name,onChange:e=>y({...b,name:e.target.value}),className:"w-full border rounded-lg px-3 py-2 text-zinc-900"})]}),(0,k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Price"}),(0,k.jsx)("input",{type:"text",required:!0,value:b.price,onChange:e=>y({...b,price:e.target.value}),className:"w-full border rounded-lg px-3 py-2 text-zinc-900"})]}),(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Dietary"}),(0,k.jsxs)("select",{value:b.dietary,onChange:e=>y({...b,dietary:e.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[(0,k.jsx)("option",{value:"Veg",children:"Veg"}),(0,k.jsx)("option",{value:"Non-Veg",children:"Non-Veg"}),(0,k.jsx)("option",{value:"Vegan",children:"Vegan"})]})]})]}),(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Image"}),(0,k.jsx)("input",{type:"file",accept:"image/*",onChange:M,className:"w-full text-sm text-zinc-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/20 file:text-primary-dark hover:file:bg-primary/30"}),v&&(0,k.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-2",children:(0,k.jsx)("div",{className:"bg-primary h-1 rounded-full",style:{width:`${E}%`}})})]}),(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"Description"}),(0,k.jsx)("textarea",{rows:"3",value:b.description,onChange:e=>y({...b,description:e.target.value}),className:"w-full border rounded-lg px-3 py-2 text-zinc-900"})]}),(0,k.jsx)("button",{type:"submit",disabled:v,className:"w-full py-3 bg-primary text-black rounded-lg font-bold",children:v?"Uploading...":"Save Item"})]})]})})}),(0,k.jsx)(j.AnimatePresence,{children:h&&(0,k.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:(0,k.jsxs)(S.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white border border-zinc-200 rounded-2xl w-full max-w-md shadow-2xl",children:[(0,k.jsxs)("div",{className:"p-6 border-b border-zinc-200 flex justify-between items-center bg-gray-50",children:[(0,k.jsxs)("h3",{className:"font-bold text-zinc-900 text-lg",children:["Bulk Update (",g.size," items)"]}),(0,k.jsx)("button",{onClick:()=>u(!1),children:(0,k.jsx)(B.X,{size:20})})]}),(0,k.jsxs)("form",{onSubmit:H,className:"p-6 space-y-4",children:[(0,k.jsx)("p",{className:"text-sm text-zinc-500",children:"Only fields you fill in will be updated."}),(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"New Category"}),(0,k.jsxs)("select",{value:w.category,onChange:e=>x({...w,category:e.target.value,subcategory:""}),className:"w-full border rounded-lg px-3 py-2",children:[(0,k.jsx)("option",{value:"",children:"No Change"}),a.map(e=>(0,k.jsx)("option",{value:e.name,children:e.name},e._id))]})]}),(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"New Subcategory"}),(0,k.jsxs)("select",{value:w.subcategory,onChange:e=>x({...w,subcategory:e.target.value}),className:"w-full border rounded-lg px-3 py-2",children:[(0,k.jsx)("option",{value:"",children:"No Change"}),q?.subcategories?.map(e=>(0,k.jsx)("option",{value:e,children:e},e))]})]}),(0,k.jsxs)("div",{className:"space-y-1",children:[(0,k.jsx)("label",{className:"text-xs text-zinc-500 uppercase font-bold",children:"New Price"}),(0,k.jsx)("input",{type:"text",value:w.price,onChange:e=>x({...w,price:e.target.value}),placeholder:"No Change",className:"w-full border rounded-lg px-3 py-2 text-zinc-900"})]}),(0,k.jsx)("button",{type:"submit",className:"w-full py-3 bg-primary text-black rounded-lg font-bold",children:"Update All Selected"})]})]})})})]})},iy=()=>{let[e,r]=(0,I.useState)([]),[n,i]=(0,I.useState)(!0),a=async()=>{try{let e=await fetch("/api/reservations",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});e.ok&&r(await e.json())}catch(e){console.error("Error fetching reservations:",e)}finally{i(!1)}},s=async(e,n)=>{try{(await fetch(`/api/reservations/status/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({status:n})})).ok?r(r=>r.map(r=>r._id===e?{...r,status:n}:r)):alert("Failed to update status")}catch(e){console.error("Error updating status:",e),alert("Error updating status")}};return((0,I.useEffect)(()=>{a()},[]),n)?(0,k.jsx)("div",{className:"p-6 text-zinc-500",children:"Loading reservations..."}):(0,k.jsxs)("div",{className:"p-6 space-y-6",children:[(0,k.jsxs)("div",{className:"flex justify-between items-end",children:[(0,k.jsx)("h2",{className:"text-2xl font-bold text-zinc-900 uppercase tracking-wider",children:"Table Allocation & Reservations"}),(0,k.jsx)("button",{onClick:a,className:"text-sm text-primary hover:text-primary-dark underline",children:"Refresh Data"})]}),(0,k.jsx)("div",{className:"overflow-x-auto bg-white border border-zinc-200 rounded-xl shadow-sm",children:(0,k.jsxs)("table",{className:"w-full text-left",children:[(0,k.jsx)("thead",{className:"bg-gray-50 text-zinc-500 text-xs uppercase tracking-wider",children:(0,k.jsxs)("tr",{children:[(0,k.jsx)("th",{className:"p-4",children:"Customer"}),(0,k.jsx)("th",{className:"p-4",children:"Date & Time"}),(0,k.jsx)("th",{className:"p-4",children:"Guests"}),(0,k.jsx)("th",{className:"p-4",children:"Requests"}),(0,k.jsx)("th",{className:"p-4",children:"Status"}),(0,k.jsx)("th",{className:"p-4",children:"Actions"})]})}),(0,k.jsx)("tbody",{className:"divide-y divide-zinc-100 text-sm text-zinc-600",children:0===e.length?(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:"6",className:"p-8 text-center text-zinc-400",children:"No reservations found."})}):e.map(e=>(0,k.jsxs)("tr",{className:"hover:bg-zinc-50 transition-colors",children:[(0,k.jsxs)("td",{className:"p-4",children:[(0,k.jsx)("div",{className:"font-bold text-zinc-900",children:e.name}),(0,k.jsx)("div",{className:"text-xs text-zinc-400",children:e.phone})]}),(0,k.jsxs)("td",{className:"p-4",children:[(0,k.jsx)("div",{children:new Date(e.date).toLocaleDateString()}),(0,k.jsx)("div",{className:"text-xs text-zinc-400",children:e.time})]}),(0,k.jsxs)("td",{className:"p-4 font-medium",children:[e.guests," Pax"]}),(0,k.jsx)("td",{className:"p-4 text-xs italic text-zinc-500 max-w-[150px] truncate",title:e.specialRequests||"None",children:e.specialRequests||"-"}),(0,k.jsx)("td",{className:"p-4",children:(0,k.jsx)("span",{className:`px-2 py-1 rounded text-xs font-bold uppercase tracking-wider ${"Confirmed"===e.status?"bg-green-100 text-green-700":"Pending"===e.status?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:e.status})}),(0,k.jsxs)("td",{className:"p-4 flex gap-2",children:["Confirmed"!==e.status&&(0,k.jsx)("button",{onClick:()=>s(e._id,"Confirmed"),className:"p-2 bg-green-50 text-green-600 rounded hover:bg-green-100 transition-colors",title:"Confirm",children:(0,k.jsx)(L,{size:16})}),"Cancelled"!==e.status&&(0,k.jsx)("button",{onClick:()=>s(e._id,"Cancelled"),className:"p-2 bg-red-50 text-red-600 rounded hover:bg-red-100 transition-colors",title:"Cancel",children:(0,k.jsx)(B.X,{size:16})})]})]},e._id))})]})})]})},iw=()=>{let[e,r]=(0,I.useState)([]),[n,i]=(0,I.useState)(""),[a,s]=(0,I.useState)(!1);(0,I.useEffect)(()=>{o()},[]);let o=async()=>{try{let e=await fetch("/api/tables");e.ok&&r(await e.json())}catch(e){console.error(e)}},l=async()=>{if(!n||n<1)return alert("Please enter a valid number");if(window.confirm(`This will regenerate ${n} tables and invalidate previous QR codes. Continue?`)){s(!0);try{let e=await fetch("/api/tables/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({count:parseInt(n)})});e.ok?(r(await e.json()),i("")):alert("Failed to generate tables")}catch(e){console.error(e),alert("Error generating tables")}finally{s(!1)}}},c=async n=>{if(window.confirm(`Are you sure you want to delete Table ${n}?`))try{(await fetch(`/api/tables/${n}`,{method:"DELETE"})).ok?r(e.filter(e=>e.number!==n)):alert("Failed to delete table")}catch(e){console.error(e),alert("Error deleting table")}};return(0,k.jsxs)("div",{className:"p-6 space-y-6",children:[(0,k.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,k.jsx)("h2",{className:"text-2xl font-bold text-zinc-900 uppercase tracking-wider",children:"QR Code Management"}),(0,k.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,k.jsx)("input",{type:"number",min:"1",placeholder:"Data",value:n,onChange:e=>i(e.target.value),className:"pl-4 pr-4 py-2 rounded-lg border border-zinc-300 w-full md:w-32 focus:outline-none focus:border-primary text-zinc-900"}),(0,k.jsx)("button",{onClick:l,disabled:a,className:"bg-primary text-black px-4 py-2 rounded-lg font-bold hover:bg-zinc-800 hover:text-white transition-colors disabled:opacity-50 whitespace-nowrap",children:a?"Generating...":"Generate New"}),(0,k.jsxs)("button",{onClick:()=>window.print(),className:"bg-zinc-100 text-zinc-900 px-4 py-2 rounded-lg font-bold hover:bg-zinc-200 transition-colors flex items-center gap-2",children:[(0,k.jsx)(H,{size:18})," Print"]})]})]}),(0,k.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-6",children:e.map(e=>{let r=`${window.location.origin}/menu?table=${e.number}`;return(0,k.jsxs)("div",{className:"bg-white border border-zinc-200 p-6 rounded-xl flex flex-col items-center gap-4 shadow-sm hover:shadow-md transition-shadow",children:[(0,k.jsx)("div",{className:"bg-white p-2 rounded-lg border border-zinc-100",children:(0,k.jsx)(el,{value:r,size:150,level:"H",includeMargin:!0})}),(0,k.jsxs)("div",{className:"text-center w-full",children:[(0,k.jsxs)("h3",{className:"font-bold text-xl text-zinc-900",children:["TABLE ",e.number]}),(0,k.jsx)("p",{className:"text-xs text-zinc-400 mt-1 truncate max-w-[150px] mx-auto mb-3",children:r}),(0,k.jsxs)("div",{className:"flex gap-2 justify-center w-full",children:[(0,k.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(r),alert("URL copied to clipboard!")},className:"text-xs text-primary hover:text-black hover:bg-primary/20 px-3 py-1 rounded transition-colors flex items-center gap-1 font-bold border border-primary/20",children:[(0,k.jsx)(V,{size:12})," Copy"]}),(0,k.jsxs)("button",{onClick:()=>c(e.number),className:"text-xs text-red-500 hover:text-red-700 hover:bg-red-50 px-3 py-1 rounded transition-colors flex items-center gap-1 border border-red-100",children:[(0,k.jsx)(D,{size:12})," Remove"]})]})]})]},e.number)})})]})};e.s(["default",0,()=>{let[e,r]=(0,I.useState)("welcome"),{user:n,logout:i}=(0,ec.useAuth)(),a=(0,ed.useRouter)(),[s,o]=(0,I.useState)(!0);return(0,I.useEffect)(()=>{localStorage.getItem("token")||a.push("/admin/login")},[a]),(0,k.jsxs)("div",{className:"relative w-full min-h-screen text-zinc-900 font-sans selection:bg-primary/30",children:[(0,k.jsxs)("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[(0,k.jsx)(iu.default,{}),(0,k.jsx)(ip.default,{})]}),(0,k.jsxs)("div",{className:"flex w-full min-h-screen relative z-10",children:[(0,k.jsx)(j.AnimatePresence,{children:!s&&(0,k.jsx)(S.motion.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},onClick:()=>o(!0),className:"fixed top-4 left-4 z-50 p-2 bg-white rounded-lg shadow-lg",children:(0,k.jsx)("img",{src:"/logo.png",alt:"Logo",className:"w-8 h-8 object-contain"})})}),(0,k.jsxs)(S.motion.div,{initial:{width:256},animate:{width:256*!!s},transition:{duration:.3,ease:"easeInOut"},className:"border-r border-zinc-200 flex flex-col fixed h-full bg-white z-40 overflow-hidden shadow-xl",children:[(0,k.jsxs)("div",{className:"p-6 border-b border-zinc-100 flex items-center justify-between min-w-[256px]",children:[(0,k.jsx)("img",{src:"/logo.png",alt:"Logo",className:"h-8 object-contain"}),(0,k.jsx)("button",{onClick:()=>o(!1),className:"p-1 rounded hover:bg-zinc-100 text-zinc-400 hover:text-zinc-900 transition-colors",children:(0,k.jsx)(R,{size:20})})]}),(0,k.jsxs)("nav",{className:"flex-1 p-4 space-y-2 min-w-[256px]",children:[(0,k.jsxs)("button",{onClick:()=>r("welcome"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition-all ${"welcome"===e?"bg-primary text-black font-bold":"text-zinc-500 hover:bg-zinc-100 hover:text-zinc-900"}`,children:[(0,k.jsx)(R,{size:20})," Dashboard"]}),(0,k.jsxs)("button",{onClick:()=>r("menu"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition-all ${"menu"===e?"bg-primary text-black font-bold":"text-zinc-500 hover:bg-zinc-100 hover:text-zinc-900"}`,children:[(0,k.jsx)(z,{size:20})," Menu Management"]}),(0,k.jsxs)("button",{onClick:()=>r("reservations"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition-all ${"reservations"===e?"bg-primary text-black font-bold":"text-zinc-500 hover:bg-zinc-100 hover:text-zinc-900"}`,children:[(0,k.jsx)(M,{size:20})," Table Allocation"]}),(0,k.jsxs)("button",{onClick:()=>r("qr"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm transition-all ${"qr"===e?"bg-primary text-black font-bold":"text-zinc-500 hover:bg-zinc-100 hover:text-zinc-900"}`,children:[(0,k.jsx)($,{size:20})," QR Management"]})]}),(0,k.jsx)("div",{className:"p-4 border-t border-zinc-100 min-w-[256px]",children:(0,k.jsxs)("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-2 rounded-lg text-sm text-red-500 hover:bg-red-50 transition-colors",children:[(0,k.jsx)(U,{size:18})," Logout"]})})]}),(0,k.jsxs)(S.motion.div,{animate:{marginLeft:256*!!s},transition:{duration:.3,ease:"easeInOut"},className:"flex-1 min-h-screen",children:["welcome"===e&&(0,k.jsxs)(S.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full p-10 text-center",children:[(0,k.jsx)(S.motion.img,{initial:{scale:.8},animate:{scale:1},transition:{duration:1,type:"spring"},src:"/logo.png",alt:"Asia By Gram",className:"w-64 mb-10 object-contain drop-shadow-2xl"}),(0,k.jsxs)("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-zinc-900 mb-6",children:["Welcome to ",(0,k.jsx)("span",{className:"text-primary",children:"ASIA BY GRAM"})]}),(0,k.jsx)("p",{className:"text-xl text-zinc-500 max-w-2xl leading-relaxed font-light",children:"Admin Control Center"})]}),"menu"===e&&(0,k.jsx)(ib,{}),"reservations"===e&&(0,k.jsx)(iy,{}),"qr"===e&&(0,k.jsx)(iw,{})]})]})]})}],64295)}]);